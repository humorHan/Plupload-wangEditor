webpackJsonp([5],[,,,,,function(t,e,i){var n;(function(t,a,o){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.2.1
	 */
(function(){"use strict";function s(t){return"function"==typeof t||"object"==typeof t&&null!==t}function r(t){return"function"==typeof t}function d(t){W=t}function l(t){tt=t}function c(){return function(){t.nextTick(m)}}function u(){return function(){H(m)}}function p(){var t=0,e=new nt(m),i=document.createTextNode("");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}function v(){var t=new MessageChannel;return t.port1.onmessage=m,function(){t.port2.postMessage(0)}}function h(){return function(){setTimeout(m,1)}}function m(){for(var t=0;t<X;t+=2){var e=st[t],i=st[t+1];e(i),st[t]=void 0,st[t+1]=void 0}X=0}function g(){try{var t=i(8);return H=t.runOnLoop||t.runOnContext,u()}catch(e){return h()}}function f(t,e){var i=this,n=new this.constructor(_);void 0===n[lt]&&R(n);var a=i._state;if(a){var o=arguments[a-1];tt(function(){S(a,n,o,i._result)})}else T(i,n,t,e);return n}function b(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var i=new e(_);return I(i,t),i}function _(){}function y(){return new TypeError("You cannot resolve a promise with itself")}function A(){return new TypeError("A promises callback cannot return that same promise.")}function D(t){try{return t.then}catch(e){return vt.error=e,vt}}function P(t,e,i,n){try{t.call(e,i,n)}catch(a){return a}}function w(t,e,i){tt(function(t){var n=!1,a=P(i,e,function(i){n||(n=!0,e!==i?I(t,i):E(t,i))},function(e){n||(n=!0,F(t,e))},"Settle: "+(t._label||" unknown promise"));!n&&a&&(n=!0,F(t,a))},t)}function C(t,e){e._state===ut?E(t,e._result):e._state===pt?F(t,e._result):T(e,void 0,function(e){I(t,e)},function(e){F(t,e)})}function k(t,e,i){e.constructor===t.constructor&&i===rt&&constructor.resolve===dt?C(t,e):i===vt?F(t,vt.error):void 0===i?E(t,e):r(i)?w(t,e,i):E(t,e)}function I(t,e){t===e?F(t,y()):s(e)?k(t,e,D(e)):E(t,e)}function x(t){t._onerror&&t._onerror(t._result),O(t)}function E(t,e){t._state===ct&&(t._result=e,t._state=ut,0!==t._subscribers.length&&tt(O,t))}function F(t,e){t._state===ct&&(t._state=pt,t._result=e,tt(x,t))}function T(t,e,i,n){var a=t._subscribers,o=a.length;t._onerror=null,a[o]=e,a[o+ut]=i,a[o+pt]=n,0===o&&t._state&&tt(O,t)}function O(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n,a,o=t._result,s=0;s<e.length;s+=3)n=e[s],a=e[s+i],n?S(i,n,a,o):a(o);t._subscribers.length=0}}function z(){this.error=null}function M(t,e){try{return t(e)}catch(i){return ht.error=i,ht}}function S(t,e,i,n){var a,o,s,d,l=r(i);if(l){if(a=M(i,n),a===ht?(d=!0,o=a.error,a=null):s=!0,e===a)return void F(e,A())}else a=n,s=!0;e._state!==ct||(l&&s?I(e,a):d?F(e,o):t===ut?E(e,a):t===pt&&F(e,a))}function B(t,e){try{e(function(e){I(t,e)},function(e){F(t,e)})}catch(i){F(t,i)}}function N(){return mt++}function R(t){t[lt]=mt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function V(t){return new yt(this,t).promise}function q(t){var e=this;return new e(K(t)?function(i,n){for(var a=t.length,o=0;o<a;o++)e.resolve(t[o]).then(i,n)}:function(t,e){e(new TypeError("You must pass an array to race."))})}function $(t){var e=this,i=new e(_);return F(i,t),i}function Z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function L(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function j(t){this[lt]=N(),this._result=this._state=void 0,this._subscribers=[],_!==t&&("function"!=typeof t&&Z(),this instanceof j?B(this,t):L())}function Q(t,e){this._instanceConstructor=t,this.promise=new t(_),this.promise[lt]||R(this.promise),K(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&E(this.promise,this._result))):F(this.promise,U())}function U(){return new Error("Array Methods must be provided an Array")}function Y(){var t;if("undefined"!=typeof a)t=a;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var i=t.Promise;i&&"[object Promise]"===Object.prototype.toString.call(i.resolve())&&!i.cast||(t.Promise=_t)}var G;G=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var H,W,J,K=G,X=0,tt=function(t,e){st[X]=t,st[X+1]=e,X+=2,2===X&&(W?W(m):J())},et="undefined"!=typeof window?window:void 0,it=et||{},nt=it.MutationObserver||it.WebKitMutationObserver,at="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),ot="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,st=new Array(1e3);J=at?c():nt?p():ot?v():void 0===et?g():h();var rt=f,dt=b,lt=Math.random().toString(36).substring(16),ct=void 0,ut=1,pt=2,vt=new z,ht=new z,mt=0,gt=V,ft=q,bt=$,_t=j;j.all=gt,j.race=ft,j.resolve=dt,j.reject=bt,j._setScheduler=d,j._setAsap=l,j._asap=tt,j.prototype={constructor:j,then:rt,"catch":function(t){return this.then(null,t)}};var yt=Q;Q.prototype._enumerate=function(){for(var t=this.length,e=this._input,i=0;this._state===ct&&i<t;i++)this._eachEntry(e[i],i)},Q.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,n=i.resolve;if(n===dt){var a=D(t);if(a===rt&&t._state!==ct)this._settledAt(t._state,e,t._result);else if("function"!=typeof a)this._remaining--,this._result[e]=t;else if(i===_t){var o=new i(_);k(o,t,a),this._willSettleAt(o,e)}else this._willSettleAt(new i(function(e){e(t)}),e)}else this._willSettleAt(n(t),e)},Q.prototype._settledAt=function(t,e,i){var n=this.promise;n._state===ct&&(this._remaining--,t===pt?F(n,i):this._result[e]=i),0===this._remaining&&E(n,this._result)},Q.prototype._willSettleAt=function(t,e){var i=this;T(t,void 0,function(t){i._settledAt(ut,e,t)},function(t){i._settledAt(pt,e,t)})};var At=Y,Dt={Promise:_t,polyfill:At};i(9).amd?(n=function(){return Dt}.call(e,i,e,o),!(void 0!==n&&(o.exports=n))):"undefined"!=typeof o&&o.exports?o.exports=Dt:"undefined"!=typeof this&&(this.ES6Promise=Dt),At()}).call(this)}).call(e,i(6),function(){return this}(),i(7)(t))},,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var n,a;n=i(61),a=i(62),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options:t.exports).template=a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(48),a=i(5);e["default"]={name:"SelectRegionView",ready:function(){this.regions&&this.regions instanceof Array&&this.regions.length>0?this.setAllRegions():this.getProvinceRegions()},props:["regions"],data:function(){return{province:0,city:0,county:0,provinces:[],cities:[],counties:[]}},watch:{regions:function(t,e){this.setAllRegions()}},methods:{regionFilter:function(t){return function(e){return e.region_id===t}},changeProvince:function(t){var e=this;this.city=0,this.county=0,this.cities=[],this.counties=[],this.getCityRegions(this.province).then(function(t){e.dispatchResultRegion()})},changeCity:function(t){var e=this;this.county=0,this.counties=[],this.getCountyRegions(this.city).then(function(t){e.dispatchResultRegion()})},changeCounty:function(t){this.dispatchResultRegion()},dispatchResultRegion:function(){var t={};if(0===this.province||0===this.city)t.region=0;else if(this.counties.length>0&&0===this.county)t.region=0;else{var e=this.provinces.filter(this.regionFilter(this.province))[0],i=this.cities.filter(this.regionFilter(this.city))[0];if(0===this.counties.length)t.region=this.city,t.all_regions=[{id:this.province,name:e?e.name:""},{id:this.city,name:i?i.name:""}];else{var n=this.counties.filter(this.regionFilter(this.county))[0];t.region=this.county,t.all_regions=[{id:this.province,name:e?e.name:""},{id:this.city,name:i?i.name:""},{id:this.county,name:n?n.name:""}]}}this.$dispatch("select-region",t)},setAllRegions:function(){var t=this;this.province=0,this.city=0,this.county=0,this.provinces=[],this.cities=[],this.counties=[],a.Promise.all([this.getProvinceRegions(),this.getCityRegions(this.regions[0]),this.getCountyRegions(this.regions[1])]).then(function(e){t.province=t.regions[0]||0,t.city=t.regions[1]||0,t.county=t.regions[2]||0,t.dispatchResultRegion()})},getProvinceRegions:function(){var t=this;return new a.Promise(function(e,i){var a="/api/v2/web/locations/full-provinces";t.$http.get(a).then(function(a){a.data.provinces?(t.provinces=a.data.provinces,e()):(n.callback.success(a.data),i(a.data))},function(t){n.callback.error(t),i(t)})})},getCityRegions:function(t){var e=this;return t?new a.Promise(function(i,a){var o="/api/v2/web/locations/province-cities?province_id="+t;e.$http.get(o).then(function(t){t.data.cities?(e.cities=t.data.cities,i()):(n.callback.success(t.data),a(t.data))},function(t){n.callback.error(t),a(t)})}):new a.Promise(function(t,i){e.cities=[],t()})},getCountyRegions:function(t){var e=this;return t?new a.Promise(function(i,a){var o="/api/v2/web/locations/city-counties?city_id="+t;e.$http.get(o).then(function(t){t.data.counties?(e.counties=t.data.counties,i()):0===t.data.result?(e.counties=[],i()):(n.callback.success(t.data),a(t.data))},function(t){n.callback.error(t),a(t)})}):new a.Promise(function(t,i){e.counties=[],t()})}}}},function(t,e){t.exports=' <div> <div class=col-lg-1 style=width:110px> <select class="form-control input-sm" v-model=province number @change=changeProvince> <option value=0>选择省</option> <template v-for="option of provinces"> <option v-bind:value=option.region_id>{{option.name}}</option> </template> </select> </div> <div class=col-lg-1 style=width:110px> <select class="form-control input-sm" v-model=city number @change=changeCity> <option value=0>选择市</option> <template v-for="option of cities"> <option v-bind:value=option.region_id>{{option.name}}</option> </template> </select> </div> <div class=col-lg-1 style=width:110px> <select class="form-control input-sm" v-if="counties.length>0" v-model=county number @change=changeCounty> <option value=0>选择区</option> <template v-for="option of counties"> <option v-bind:value=option.region_id>{{option.name}}</option> </template> </select> </div> </div> '},,function(t,e,i){var n,a;n=i(65),a=i(71),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options:t.exports).template=a)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(66),o=n(a);e["default"]={name:"EditInvoiceInfoComponentView",components:{invoiceInfoComponent:o["default"]},props:["editInvoiceChecked","invoiceData","consignees"]}},function(t,e,i){var n,a;i(67),n=i(69),a=i(70),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options:t.exports).template=a)},function(t,e,i){var n=i(68);"string"==typeof n&&(n=[[t.id,n,""]]);i(42)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(41)(),e.push([t.id,".use-consignee-info.btn-link{text-decoration:none;cursor:pointer}.use-consignee-info.btn-link:hover{text-decoration:underline}","",{version:3,sources:["/./src/views/order/comp/invoiceInfoComponent.vue.style"],names:[],mappings:"AA+GA,6BACA,qBAAA,AACA,cAAA,CACA,AAEA,mCACA,yBAAA,CACA",file:"invoiceInfoComponent.vue",sourcesContent:['<!-- editInvoiceInfoComponent.vue -->\n<template>\n\t<div class="row">\n\t\t<div class="col-md-6">\n            <div class="form-group">\n                <label class="control-label" for="invoiceAmount">开票金额<span class="text-danger">*</span></label>\n                <input class="form-control" style="width:30%;" id="invoiceAmount" type="text" v-model="invoiceData.amount | priceFilter">\n            </div>\n            <div class="form-group">\n                <label class="control-label" for="invoiceContent">开票内容<span class="text-danger">*</span></label>\n                <select class="form-control" style="width:30%;" id="invoiceContent" v-model="invoiceData.content">\n                    <option>制作费</option>\n                    <option>服务费</option>\n                    <option>会议服务费</option>\n                    <option>设计费</option>\n                    <option>代理费</option>\n                    <option>文化咨询费</option>\n                </select>\n            </div>\n            <div class="form-group">\n                <label class="control-label" for="invoiceType">发票类型<span class="text-danger">*</span></label>\n                <select class="form-control" style="width:30%;" id="invoiceType" v-model="invoiceData.zengzhishui | formatInvoiceType" number>\n                    <option value="1">普通发票</option>\n                    <option value="2">增值税发票</option>\n                </select>\n            </div>\n            <div class="form-group">\n                <label class="control-label" for="invoiceTitle">开票抬头<span class="text-danger">*</span></label>\n                <input class="form-control" style="width:50%;" id="invoiceTitle" type="text" v-model="invoiceData.title">\n            </div>\n            <div v-if="invoiceData.zengzhishui">\n                <div class="form-group">\n                    <label class="control-label" for="invoiceZZSIdentifier">纳税人识别号<span class="text-danger">*</span></label>\n                    <input class="form-control" style="width:50%;" id="invoiceZZSIdentifier" type="text" v-model="invoiceData.zengzhishui.identifier">\n                </div>\n                <div class="form-group">\n                    <label class="control-label" for="invoiceZZSAddress">注册地址<span class="text-danger">*</span></label>\n                    <input class="form-control" style="width:50%;" id="invoiceZZSAddress" type="text" v-model="invoiceData.zengzhishui.address">\n                </div>\n                <div class="form-group">\n                    <label class="control-label" for="invoiceZZSPhone">电话<span class="text-danger">*</span></label>\n                    <input class="form-control" style="width:50%;" id="invoiceZZSPhone" type="text" v-model="invoiceData.zengzhishui.phone">\n                </div>\n                <div class="form-group">\n                    <label class="control-label" for="invoiceZZSBank">开户行<span class="text-danger">*</span></label>\n                    <input class="form-control" style="width:50%;" id="invoiceZZSBank" type="text" v-model="invoiceData.zengzhishui.bank">\n                </div>\n                <div class="form-group">\n                    <label class="control-label" for="invoiceZZSAccount">账号<span class="text-danger">*</span></label>\n                    <input class="form-control" style="width:50%;" id="invoiceZZSAccount" type="text" v-model="invoiceData.zengzhishui.account">\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="control-label" for="invoiceRemark">备注</label>\n                <input class="form-control" style="width:80%;" id="invoiceRemark" type="text" v-model="invoiceData.remark">\n            </div>\n        </div>\n        <div class="col-md-6">\n            <h4>发票寄送至：</h4>\n            <p v-for="consignee of consignees">\n                <a class="use-consignee-info btn-link" @click="useConsigneeInfo(consignee)">使用收货人{{$index + 1}}信息</a>\n            </p>\n            <div class="form-group">\n                <label class="control-label" for="invoiceConsigneeName">收货人<span class="text-danger">*</span></label>\n                <input class="form-control" style="width:30%;" id="invoiceConsigneeName" type="text" v-model="invoiceData.consignee_name">\n            </div>\n            <div class="form-group">\n                <label class="control-label" for="invoiceConsigneePhone">联系方式<span class="text-danger">*</span></label>\n                <input class="form-control" style="width:30%;" id="invoiceConsigneePhone" type="text" v-model="invoiceData.consignee_phone">\n            </div>\n            <div class="form-group">\n                <label class="control-label" for="invoiceConsigneeAddress">收货地址<span class="text-danger">*</span></label>\n                <input class="form-control" style="width:80%;" id="invoiceConsigneeAddress" type="text" v-model="invoiceData.address">\n            </div>\n        </div>\n\t</div>\n</template>\n\n<script>\nexport default {\n    name: \'InvoiceInfoComponentView\',\n    props: [\'invoiceData\', \'consignees\'],\n    filters: {\n        formatInvoiceType: {\n            read(val) {\n                return val ? 2 : 1;\n            },\n            write(val, oldVal) {\n                if (val == 1) {\n                    return undefined;\n                } else {\n                    return {};\n                }\n            },\n        }\n    },\n    methods: {\n        useConsigneeInfo(consignee) {\n            this.invoiceData.consignee_name = consignee.name;\n            this.invoiceData.consignee_phone = consignee.phone;\n            if (consignee.fullRegionName && consignee.address) {\n                this.invoiceData.address = consignee.fullRegionName + consignee.address;\n            } else {\n                this.invoiceData.address = \'\';\n            }\n        },\n    },\n}\n</script>\n\n<style scope>\n.use-consignee-info.btn-link {\n    text-decoration: none;\n    cursor: pointer;\n}\n\n.use-consignee-info.btn-link:hover {\n    text-decoration: underline;\n}\n</style>'],sourceRoot:"webpack://"}])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={name:"InvoiceInfoComponentView",props:["invoiceData","consignees"],filters:{formatInvoiceType:{read:function(t){return t?2:1},write:function(t,e){return 1==t?void 0:{}}}},methods:{useConsigneeInfo:function(t){this.invoiceData.consignee_name=t.name,this.invoiceData.consignee_phone=t.phone,t.fullRegionName&&t.address?this.invoiceData.address=t.fullRegionName+t.address:this.invoiceData.address=""}}}},function(t,e){t.exports=' <div class=row> <div class=col-md-6> <div class=form-group> <label class=control-label for=invoiceAmount>开票金额<span class=text-danger>*</span></label> <input class=form-control style=width:30% id=invoiceAmount type=text v-model="invoiceData.amount | priceFilter"> </div> <div class=form-group> <label class=control-label for=invoiceContent>开票内容<span class=text-danger>*</span></label> <select class=form-control style=width:30% id=invoiceContent v-model=invoiceData.content> <option>制作费</option> <option>服务费</option> <option>会议服务费</option> <option>设计费</option> <option>代理费</option> <option>文化咨询费</option> </select> </div> <div class=form-group> <label class=control-label for=invoiceType>发票类型<span class=text-danger>*</span></label> <select class=form-control style=width:30% id=invoiceType v-model="invoiceData.zengzhishui | formatInvoiceType" number> <option value=1>普通发票</option> <option value=2>增值税发票</option> </select> </div> <div class=form-group> <label class=control-label for=invoiceTitle>开票抬头<span class=text-danger>*</span></label> <input class=form-control style=width:50% id=invoiceTitle type=text v-model=invoiceData.title> </div> <div v-if=invoiceData.zengzhishui> <div class=form-group> <label class=control-label for=invoiceZZSIdentifier>纳税人识别号<span class=text-danger>*</span></label> <input class=form-control style=width:50% id=invoiceZZSIdentifier type=text v-model=invoiceData.zengzhishui.identifier> </div> <div class=form-group> <label class=control-label for=invoiceZZSAddress>注册地址<span class=text-danger>*</span></label> <input class=form-control style=width:50% id=invoiceZZSAddress type=text v-model=invoiceData.zengzhishui.address> </div> <div class=form-group> <label class=control-label for=invoiceZZSPhone>电话<span class=text-danger>*</span></label> <input class=form-control style=width:50% id=invoiceZZSPhone type=text v-model=invoiceData.zengzhishui.phone> </div> <div class=form-group> <label class=control-label for=invoiceZZSBank>开户行<span class=text-danger>*</span></label> <input class=form-control style=width:50% id=invoiceZZSBank type=text v-model=invoiceData.zengzhishui.bank> </div> <div class=form-group> <label class=control-label for=invoiceZZSAccount>账号<span class=text-danger>*</span></label> <input class=form-control style=width:50% id=invoiceZZSAccount type=text v-model=invoiceData.zengzhishui.account> </div> </div> <div class=form-group> <label class=control-label for=invoiceRemark>备注</label> <input class=form-control style=width:80% id=invoiceRemark type=text v-model=invoiceData.remark> </div> </div> <div class=col-md-6> <h4>发票寄送至：</h4> <p v-for="consignee of consignees"> <a class="use-consignee-info btn-link" @click=useConsigneeInfo(consignee)>使用收货人{{$index + 1}}信息</a> </p> <div class=form-group> <label class=control-label for=invoiceConsigneeName>收货人<span class=text-danger>*</span></label> <input class=form-control style=width:30% id=invoiceConsigneeName type=text v-model=invoiceData.consignee_name> </div> <div class=form-group> <label class=control-label for=invoiceConsigneePhone>联系方式<span class=text-danger>*</span></label> <input class=form-control style=width:30% id=invoiceConsigneePhone type=text v-model=invoiceData.consignee_phone> </div> <div class=form-group> <label class=control-label for=invoiceConsigneeAddress>收货地址<span class=text-danger>*</span></label> <input class=form-control style=width:80% id=invoiceConsigneeAddress type=text v-model=invoiceData.address> </div> </div> </div> '},function(t,e){t.exports=' <div class="panel panel-default"> <div class=panel-body> <div class=checkbox> <label> <input type=checkbox v-model=editInvoiceChecked>填写发票信息 </label> </div> <invoice-info-component :invoice-data=invoiceData :consignees=consignees v-show=editInvoiceChecked> </invoice-info-component> </div> </div> '},function(t,e,i){var n,a;i(73),n=i(75),a=i(76),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options:t.exports).template=a)},function(t,e,i){var n=i(74);"string"==typeof n&&(n=[[t.id,n,""]]);i(42)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(41)(),e.push([t.id,".modal[_v-2d975ce0]{height:100%}.modal-dialog[_v-2d975ce0]{top:30%}","",{version:3,sources:["/./src/components/popupDialog.vue.style"],names:[],mappings:"AAwDA,oBACA,WAAA,CACA,AAEA,2BACA,OAAA,CACA",file:"popupDialog.vue",sourcesContent:['<!-- popupDialog.vue -->\n<template>\n    <div class="modal" v-show="showDialog">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" @click="closeDialog">&times;</button>\n                    <h4 class="modal-title">{{ dialogTitle }}</h4>\n                </div>\n                <div class="modal-body">\n                    <p>{{ dialogContent }}</p>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" @click="clickNegativeButton">{{ negativeButtonText }}</button>\n        \t\t\t<button type="button" class="btn btn-primary" @click="clickPositiveButton">{{ positiveButtonText }}</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: \'PopupDialogView\',\n    props: {\n    \tshowDialog: Boolean,\n    \tdialogTitle: String,\n    \tdialogContent: String,\n    \tnegativeButtonText: {\n    \t\ttype: String,\n    \t\tdefault: \'取消\'\n    \t},\n    \tpositiveButtonText: {\n    \t\ttype: String,\n    \t\tdefault: \'确定\'\n    \t},\n    },\n    methods: {\n    \tcloseDialog(event) {\n    \t\tthis.showDialog = false;\n    \t},\n    \tclickPositiveButton(event) {\n    \t\tthis.showDialog = false;\n    \t\tthis.$dispatch(\'click-positive-button\');\n    \t},\n    \tclickNegativeButton(event) {\n    \t\tthis.showDialog = false;\n    \t\tthis.$dispatch(\'click-negative-button\');\n    \t},\n    },\n}\n\n</script>\n\n<style scoped>\n.modal {\n\theight: 100%;\n}\n\n.modal-dialog {\n\ttop: 30%;\n}\n\n</style>'],sourceRoot:"webpack://"}])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={name:"PopupDialogView",props:{showDialog:Boolean,dialogTitle:String,dialogContent:String,negativeButtonText:{type:String,"default":"取消"},positiveButtonText:{type:String,"default":"确定"}},methods:{closeDialog:function(t){this.showDialog=!1},clickPositiveButton:function(t){this.showDialog=!1,this.$dispatch("click-positive-button")},clickNegativeButton:function(t){this.showDialog=!1,this.$dispatch("click-negative-button")}}}},function(t,e){t.exports=' <div class=modal v-show=showDialog _v-2d975ce0=""> <div class=modal-dialog _v-2d975ce0=""> <div class=modal-content _v-2d975ce0=""> <div class=modal-header _v-2d975ce0=""> <button type=button class=close @click=closeDialog _v-2d975ce0="">×</button> <h4 class=modal-title _v-2d975ce0="">{{ dialogTitle }}</h4> </div> <div class=modal-body _v-2d975ce0=""> <p _v-2d975ce0="">{{ dialogContent }}</p> </div> <div class=modal-footer _v-2d975ce0=""> <button type=button class="btn btn-default" @click=clickNegativeButton _v-2d975ce0="">{{ negativeButtonText }}</button> <button type=button class="btn btn-primary" @click=clickPositiveButton _v-2d975ce0="">{{ positiveButtonText }}</button> </div> </div> </div> </div> '},function(t,e,i){var n,a;i(78),n=i(80),a=i(81),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options:t.exports).template=a)},function(t,e,i){var n=i(79);"string"==typeof n&&(n=[[t.id,n,""]]);i(42)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(41)(),e.push([t.id,".modal{height:100%}.modal-dialog{top:30%}","",{version:3,sources:["/./src/views/order/comp/productDetailDialog.vue.style"],names:[],mappings:"AAkDA,OACA,WAAA,CACA,AAEA,cACA,OAAA,CACA",file:"productDetailDialog.vue",sourcesContent:['<!-- productDetailDialog.vue -->\n<template>\n    <div class="modal" v-show="show">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" @click="hideDialog">&times;</button>\n                    <h4 class="modal-title">非标品详情</h4>\n                </div>\n                <div class="modal-body">\n                    <div class="row">\n                        <div class="col-md-3">产品名称：</div>\n                        <div class="col-md-9">{{detail.name}}</div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md-3">数量：</div>\n                        <div class="col-md-9">{{detail.quantity}}</div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md-3">产品尺寸：</div>\n                        <div class="col-md-9">{{detail.size}}</div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md-3">材质：</div>\n                        <div class="col-md-9">{{detail.caizhi}}</div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md-3">其他要求：</div>\n                        <div class="col-md-9">{{detail.others}}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \'ProductDetailDialogView\',\n    props: [\'show\', \'detail\'],\n    methods: {\n        hideDialog() {\n            this.show = false;\n            this.$dispatch(\'hide-product-detail-dialog\');\n        }\n    },\n}\n</script>\n\n<style>\n.modal {\n    height: 100%;\n}\n\n.modal-dialog {\n    top: 30%;\n}\n</style>'],sourceRoot:"webpack://"}])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={name:"ProductDetailDialogView",props:["show","detail"],methods:{hideDialog:function(){this.show=!1,this.$dispatch("hide-product-detail-dialog")}}}},function(t,e){t.exports=" <div class=modal v-show=show> <div class=modal-dialog> <div class=modal-content> <div class=modal-header> <button type=button class=close @click=hideDialog>&times;</button> <h4 class=modal-title>非标品详情</h4> </div> <div class=modal-body> <div class=row> <div class=col-md-3>产品名称：</div> <div class=col-md-9>{{detail.name}}</div> </div> <div class=row> <div class=col-md-3>数量：</div> <div class=col-md-9>{{detail.quantity}}</div> </div> <div class=row> <div class=col-md-3>产品尺寸：</div> <div class=col-md-9>{{detail.size}}</div> </div> <div class=row> <div class=col-md-3>材质：</div> <div class=col-md-9>{{detail.caizhi}}</div> </div> <div class=row> <div class=col-md-3>其他要求：</div> <div class=col-md-9>{{detail.others}}</div> </div> </div> </div> </div> </div> "},function(t,e,i){var n,a;i(83),n=i(85),a=i(86),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options:t.exports).template=a)},function(t,e,i){var n=i(84);"string"==typeof n&&(n=[[t.id,n,""]]);i(42)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(41)(),e.push([t.id,".popuptips-container[_v-18a77ad0]{position:fixed;left:50%;top:40%;z-index:2000}.panel[_v-18a77ad0]{position:relative;left:-50%}.fade-transition[_v-18a77ad0]{-webkit-transition:all 1s ease;transition:all 1s ease}.fade-leave[_v-18a77ad0]{opacity:0}","",{version:3,sources:["/./src/components/popupTips.vue.style"],names:[],mappings:"AAuCA,kCACA,eAAA,AACA,SAAA,AACA,QAAA,AACA,YAAA,CACA,AACA,oBACA,kBAAA,AACA,SAAA,CACA,AAEA,8BACA,+BAAA,sBAAA,CACA,AAEA,yBACA,SAAA,CACA",file:"popupTips.vue",sourcesContent:['<!-- popupTips.vue -->\n<template>\n\t<div class="popuptips-container" v-if="show" transition="fade">\n\t    <div class="panel panel-{{ tipsType }}">\n\t\t\t<div class="panel-heading">\n\t\t   \t\t<h3 class="panel-title">{{ tipsTitle }}</h3>\n\t\t\t</div>\n\t\t\t<div class="panel-body">\n\t\t    \t{{ tipsContent }}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\nexport default {\n    name: \'PopupTipsView\',\n    replace: false,\n    props: {\n    \tshow: Boolean,\n    \ttipsType: String,\n    \ttipsTitle: String,\n    \ttipsContent: String\n    },\n    watch: {\n        show(val, oldVal) {\n            if (val === true) {\n            \tsetTimeout(() => {\n            \t\tthis.show = false;\n            \t}, 1000);\n            }\n        },\n    },\n}\n\n</script>\n\n<style scoped>\n.popuptips-container {\n\tposition: fixed;\n\tleft: 50%;\n\ttop: 40%;\n    z-index: 2000;\n}\n.panel {\n\tposition: relative;\n    left: -50%;\n}\n\n.fade-transition {\n  transition: all 1s ease;\n}\n\n.fade-leave {\n  opacity: 0;\n}\n</style>'],sourceRoot:"webpack://"}])},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={name:"PopupTipsView",replace:!1,props:{show:Boolean,tipsType:String,tipsTitle:String,tipsContent:String},watch:{show:function(t,e){var i=this;t===!0&&setTimeout(function(){i.show=!1},1e3)}}}},function(t,e){t.exports=' <div class=popuptips-container v-if=show transition=fade _v-18a77ad0=""> <div class="panel panel-{{ tipsType }}" _v-18a77ad0=""> <div class=panel-heading _v-18a77ad0=""> <h3 class=panel-title _v-18a77ad0="">{{ tipsTitle }}</h3> </div> <div class=panel-body _v-18a77ad0=""> {{ tipsContent }} </div> </div> </div> '},function(t,e){"use strict";function i(t){var e={};return e.ok=!1,t?t.length>20?(e.errorMsg="产品名称长度不能大于20",e):(e.ok=!0,e):(e.errorMsg="产品名称不能为空",e)}function n(t){var e={};return e.ok=!1,t?t.length>12?(e.errorMsg="产品数量长度不能大于12",e):(e.ok=!0,e):(e.errorMsg="产品数量不能为空",e)}function a(t){var e={};return e.ok=!1,
!t||t<0?(e.errorMsg="产品价格不能为空且必须为正数",e):(e.ok=!0,e)}function o(t){var e={};return e.ok=!1,t?t.length>20?(e.errorMsg="客户名称长度不能大于20",e):(e.ok=!0,e):(e.errorMsg="客户名称不能为空",e)}function s(t){var e={};return e.ok=!1,t?t.length>20?(e.errorMsg="收货人名称长度不能大于20",e):(e.ok=!0,e):(e.errorMsg="收货人名称不能为空",e)}function r(t){var e={};e.ok=!1;var i=/^[0-9]{11}$/;return t?i.test(t)?(e.ok=!0,e):(e.errorMsg="收货人手机格式有误",e):(e.errorMsg="收货人手机不能为空",e)}function d(t,e){var i={};return i.ok=!1,0===t?(i.errorMsg="请选择收货人所在地省市区",i):e?e.length>50?(i.errorMsg="收货人详细地址不能大于50",i):(i.ok=!0,i):(i.errorMsg="收货人详细地址不能为空",i)}function l(t){var e={};return e.ok=!1,!t||t<0?(e.errorMsg="开票金额不能为空且必须为正数",e):(e.ok=!0,e)}function c(t,e){var i={};return i.ok=!1,e?e.length>50?(i.errorMsg=t+"长度不能大于50",i):(i.ok=!0,i):(i.errorMsg=t+"不能为空",i)}function u(t,e){var i={};return i.ok=!1,void 0===t||null===t||""===t?(i.errorMsg="使用额度不能为空",i):t<=0||t>e?(i.errorMsg="使用额度必须为正数且不能超过"+e/100+"元",i):(i.ok=!0,i)}function p(t,e){var i={};return i.ok=!1,void 0===t||null===t||""===t?(i.errorMsg="补充金额不能为空",i):t<=e?(i.errorMsg="补充金额必须大于"+e/100+"元",i):(i.ok=!0,i)}function v(t){var e={};return e.ok=!1,void 0===t||null===t||""===t?(e.errorMsg="额外成本不能为空",e):t<0?(e.errorMsg="额外成本必须大于等于0",e):(e.ok=!0,e)}function h(t,e){var i={};return i.ok=!1,e?e.length>2e3?(i.errorMsg=t+"长度不能大于2000",i):(i.ok=!0,i):(i.errorMsg=t+"不能为空",i)}function m(t,e){var i={};return i.ok=!1,t?t<0?(i.errorMsg="成本必须大于0",i):(i.ok=!0,i):e?(i.ok=!0,i):(i.errorMsg="成本不能为空或者0",i)}function g(t){var e={};return e.ok=!1,void 0===t||null===t||""===t?(e.errorMsg="物流成本不能为空",e):t<0?(e.errorMsg="物流成本必须大于等于0",e):(e.ok=!0,e)}function f(t,e){var i={};return i.ok=!1,e?e.length>2e3?(i.errorMsg=t+"长度不能大于2000",i):(i.ok=!0,i):(i.errorMsg=t+"不能为空",i)}function b(t,e){var i={};return i.ok=!1,!t||t<0?(i.errorMsg="退款金额不能为空且必须为正数",i):t>e?(i.errorMsg="退款金额不能大于"+e/100+"元",i):(i.ok=!0,i)}function _(t){var e={};return e.ok=!1,t?t.length>50?(e.errorMsg="对方账号长度不能大于50",e):(e.ok=!0,e):(e.errorMsg="对方账号不能为空",e)}function y(t){var e={};return e.ok=!1,t?t.length>2e3?(e.errorMsg="退款原因长度不能大于2000",e):(e.ok=!0,e):(e.errorMsg="退款原因不能为空",e)}function A(t,e){var i={};return i.ok=!1,!t||t<0?(i.errorMsg="付款金额不能为空且必须为正数",i):t>e?(i.errorMsg="付款金额不能大于该订单剩余的待支付金额("+e/100+"元)",i):(i.ok=!0,i)}function D(t){var e={};return e.ok=!1,t?t.length>20?(e.errorMsg="供应商名称长度不能大于20",e):(e.ok=!0,e):(e.errorMsg="供应商名称不能为空",e)}function P(t){var e={};return e.ok=!1,t?t.length>20?(e.errorMsg="真实姓名长度不能大于20",e):(e.ok=!0,e):(e.errorMsg="真实姓名不能为空",e)}function w(t){var e={};return e.ok=!1,t?t.length>50?(e.errorMsg="用户名长度不能大于50",e):(e.ok=!0,e):(e.errorMsg="用户名不能为空",e)}function C(t){var e={};e.ok=!1;var i=/^[a-zA-Z0-9]*$/;return t?t.length>20?(e.errorMsg="密码长度不能超过20",e):i.test(t)?(e.ok=!0,e):(e.errorMsg="密码只能包含英文字母和数字",e):(e.errorMsg="密码不能为空",e)}Object.defineProperty(e,"__esModule",{value:!0});var k="******";e.orderValidator={validateProductName:i,validateProductQuantity:n,validateProductPrice:a,validateCustomerName:o,validateConsigneeName:s,validateConsigneePhone:r,validateConsigneeAddress:d,validateInvoiceAmount:l,validateInvoiceItem:c,validateApplyInvoiceAmount:u,validateExtraAmount:p,validateExtraCost:v,validateAfterSaleItem:h,validateProductCost:m,validateLogisticsCost:g,validateLogisticsItem:f,validateRefundAmount:b,validateRefundAccount:_,validateRefundReason:y},e.financeValidator={validatePaymentAmount:A},e.crmValidator={validateSupplierName:D,validateDisplayName:P,validateUserName:w,validatePassword:C,DEFAULT_PASSWORD:k}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var n,a;i(147),n=i(149),a=i(160),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options:t.exports).template=a)},function(t,e,i){var n=i(148);"string"==typeof n&&(n=[[t.id,n,""]]);i(42)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(41)(),e.push([t.id,".consignee-table[_v-834d0e1e],.product-table[_v-834d0e1e]{table-layout:fixed}.consignee-table td[_v-834d0e1e],.consignee-table th[_v-834d0e1e],.product-table td[_v-834d0e1e],.product-table th[_v-834d0e1e]{text-align:center;vertical-align:middle}.consignee-table td .btn-link[_v-834d0e1e],.product-table td .btn-link[_v-834d0e1e]{text-decoration:none;cursor:pointer}.consignee-table td .btn-link[_v-834d0e1e]:hover,.product-table td .btn-link[_v-834d0e1e]:hover{text-decoration:underline}.show-right[_v-834d0e1e]{margin-left:20px}","",{version:3,sources:["/./src/views/order/edit.vue.style"],names:[],mappings:"AAurBA,0DACA,kBAAA,CACA,AAEA,gIACA,kBAAA,AACA,qBAAA,CACA,AAEA,oFACA,qBAAA,AACA,cAAA,CACA,AAEA,gGACA,yBAAA,CACA,AAEA,yBACA,gBAAA,CACA",file:"edit.vue",sourcesContent:['<!-- edit.vue -->\n<template>\n    <div class="container-fluid">\n        <ul class="breadcrumb">\n            <li>订单系统</li>\n            <li>订单管理</li>\n            <li>编辑订单：<a class="btn-link" v-link="{path:\'/order/detail/\'+orderId}" v-if="orderId">{{orderId}}</a></li>\n        </ul>\n        <form class="form-inline pull-right" style="margin-top: 16px;" v-if="orderId && permissionList.assignManager">\n            <label>客户经理/客服：</label>\n            <select class="form-control input-sm" style="width:100px;" v-model="manager.id" number @change="changeManager">\n                <option v-for="manager of managerList" :value="manager.id">{{manager.display_name}}</option>\n            </select>\n        </form>\n        <h3>编辑订单</h3>\n        <p class="clearfix"></p>\n        <div class="panel panel-default">\n            <div class="panel-heading">商品清单</div>\n            <div class="panel-body">\n                <table class="table table-bordered table-hover product-table">\n                    <thead>\n                        <tr>\n                            <th style="width:6%;">ID</th>\n                            <th style="width:15%;">产品名称</th>\n                            <th style="width:25%;">参数</th>\n                            <th style="width:10%;">数量</th>\n                            <th style="width:10%;">价格(元)</th>\n                            <th style="width:22%;">到货时间要求</th>\n                            <th style="width:12%;">操作</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for="item of orderItems">\n                            <td>{{item.id}}</td>\n                            <template v-if="item.is_custom">\n                                <td>{{item.detail.name}}</td>\n                                <td>\n                                    <a class="btn-link" @click="showProductDetailDialog(item)">\n                                        {{item.detail.size}}{{(item.detail.size && (item.detail.caizhi || item.detail.others)) ? \'_\' : \'\'}}{{item.detail.caizhi}}{{(item.detail.caizhi && item.detail.others) ? \'_\' : \'\'}}{{item.detail.others}}\n                                    </a>\n                                </td>\n                                <td>{{item.detail.quantity}}</td>\n                            </template>\n                            <template v-else>\n                                <td>\n                                    <a class="btn-link" :href="\'http://www.soyyin.com/product?id=\'+item.product_id+\'#\'+item.brief" target="_blank">{{item.title}}</a>\n                                </td>\n                                <td>{{item.brief}}</td>\n                                <td>{{item.quantity}}</td>\n                            </template>\n                            <td>{{item.price === 0 ? \'暂无\' : \'\'}}{{(item.price === 0 ? \'\' : item.price ) | realPrice}}</td>\n                            <td>{{item.arrival_time}}</td>\n                            <td>\n                                <a class="btn-link" @click="editProduct(item)">编辑</a>\n                                <a class="btn-link show-right" v-if="((!isPayed) && item.produce_status === \'NOT_PRODUCE\')" @click="showDeleteProductDialog(item)">删除</a>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <a class="btn btn-info btn-sm" v-if="orderId && !isPayed" @click="addProduct">添加商品</a>\n            </div>\n        </div>\n        <div class="panel panel-default">\n            <div class="panel-heading">收货人信息</div>\n            <div class="panel-body">\n                <table class="table table-bordered table-hover consignee-table">\n                    <thead>\n                        <tr>\n                            <th style="width:10%;">姓名</th>\n                            <th style="width:12%;">手机号</th>\n                            <th style="width:28%;">地址</th>\n                            <th style="width:8%;">邮编</th>\n                            <th style="width:30%;">收货备注</th>\n                            <th style="width:12%;">操作</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for="item of consignees">\n                            <td>{{item.name}}</td>\n                            <td>{{item.phone}}</td>\n                            <td>\n                                <span v-for="region of item.regions">{{region.name}}</span>\n                                {{item.address}}\n                            </td>\n                            <td>{{item.post_code}}</td>\n                            <td>{{item.remark}}</td>\n                            <td>\n                                <a class="btn-link" @click="editConsignee(item)">编辑</a>\n                                <a class="btn-link show-right" v-if="item.logistics.length === 0" @click="showDeleteConsigneeDialog(item)">删除</a>  \n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n                <a class="btn btn-info btn-sm" v-if="orderId" @click="addConsignee">增加收货地址</a>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-lg-7">\n                <div class="panel panel-default">\n                    <div class="panel-heading">付款方式</div>\n                    <div class="panel-body">\n                        <form class="form-horizontal">\n                            <div class="radio">\n                                <label>\n                                    <input type="radio" id="payment1" :disabled="orderBasic.status !== \'SUBMITTED\'" v-model="paymentData.payment" value="ONLINE">\n                                    在线支付\n                                </label>\n                            </div>\n                            <div class="radio form-inline">\n                                <label>\n                                    <input type="radio" id="payment2" :disabled="orderBasic.status !== \'SUBMITTED\'" v-model="paymentData.payment" value="CASH_ON_DELIVERY">\n                                    货到付款\n                                </label>\n                                <input class="form-control input-sm" style="width:300px;margin-left:10px;" type="text" placeholder="付款时间及金额说明(选填)" v-model="paymentData.remark">\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <div class="col-lg-5">\n                <div class="panel panel-default">\n                    <div class="panel-heading">订单日期</div>\n                    <div class="panel-body">\n                        <div class="form-group">\n                            <label class="control-label" for="orderDate">请选择日期<span class="text-danger">*</span></label>\n                            <input class="form-control input-sm" id="orderDate" style="width:200px;" readOnly="true" v-model="orderDate | datePickerFilter">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="panel panel-default">\n            <div class="panel-heading">客户信息</div>\n            <div class="panel-body">\n                <form class="form-horizontal">\n                    <div class="col-xs-2">\n                        <label class="control-label" for="customerName">客户名称<span class="text-danger">*</span></label>\n                        <input class="form-control input-sm" id="customerName" type="text" v-model="orderBasic.customer.name">\n                    </div>\n                    <div class="col-xs-2">\n                        <label class="control-label" for="customerPhone">联系电话</label>\n                        <input class="form-control input-sm" id="customerPhone" type="text" v-model="orderBasic.customer.phone">\n                    </div>\n                    <div class="col-xs-2">\n                        <label class="control-label" for="customerQQ">QQ</label>\n                        <input class="form-control input-sm" id="customerQQ" type="text" v-model="orderBasic.customer.qq">\n                    </div>\n                    <div class="col-xs-2">\n                        <label class="control-label" for="customerCompany">公司</label>\n                        <input class="form-control input-sm" id="customerCompany" type="text" v-model="orderBasic.customer.company">\n                    </div>\n                </form>\n            </div>\n        </div>\n        <edit-invoice-info-component :edit-invoice-checked.sync="editInvoiceChecked" :invoice-data="invoiceInfo" :consignees="consigneesForInvoiceInfo"></edit-invoice-info-component>\n        <div class="panel panel-default">\n            <div class="panel-heading">其他信息</div>\n            <div class="panel-body">\n                <div class="form-group col-md-8">\n                    <label class="control-label" for="orderRemark">备注：</label>\n                    <textarea class="form-control" style="height:100px;" id="orderRemark" v-model="orderBasic.remark"></textarea>\n                </div>\n            </div>\n        </div>\n        <div>\n            <a class="btn btn-info btn-lg pull-right" v-if="orderId" @click="editOrder">确认修改</a>\n        </div>\n        <edit-or-add-product-dialog :show.sync="dataForEditOrAddProductDialog.show" :data="dataForEditOrAddProductDialog.data"></edit-or-add-product-dialog>\n        <product-detail-dialog :show.sync="dataForProductDetailDialog.show" :detail="dataForProductDetailDialog.detail"></product-detail-dialog>\n        <edit-or-add-consignee-dialog :show.sync="dataForEditOrAddConsigneeDialog.show" :data="dataForEditOrAddConsigneeDialog.data"></edit-or-add-consignee-dialog>\n        <popup-tips :show.sync="dataForPopupTips.show" :tips-type="dataForPopupTips.type" :tips-title="dataForPopupTips.title" :tips-content="dataForPopupTips.content"></popup-tips>\n        <popup-dialog :show-dialog.sync="dataForPopupDialog.show" :dialog-title="dataForPopupDialog.title" :dialog-content="dataForPopupDialog.content"></popup-dialog>\n    </div>\n</template>\n\n<script>\nimport Vue from \'vue\'\nimport editInvoiceInfoComponent from \'./comp/editInvoiceInfoComponent.vue\'\nimport popupDialog from \'../../components/popupDialog.vue\'\nimport productDetailDialog from \'./comp/productDetailDialog.vue\'\nimport popupTips from \'../../components/popupTips.vue\'\nimport editOrAddProductDialog from \'./comp/editOrAddProductDialog.vue\'\nimport editOrAddConsigneeDialog from \'./comp/editOrAddConsigneeDialog.vue\'\nimport { callback } from \'../../store/index.js\'\nimport { orderValidator } from \'../../store/dataValidator.js\'\nimport { permissionValidator } from \'../../store/rolePermission.js\'\nimport $ from \'jquery\'\n\nconst DELETE_PRODUCT = "DELETE_PRODUCT";\nconst DELETE_CONSIGNEEITEM = "DELETE_CONSIGNEEITEM";\n\nexport default {\n    name: \'OrderEditView\',\n    components: {\n        editInvoiceInfoComponent,\n        productDetailDialog,\n        popupTips,\n        popupDialog,\n        editOrAddProductDialog,\n        editOrAddConsigneeDialog,\n    },\n    route: {\n        data({to}) {\n            var orderId = to.params.id\n            if(!orderId) {\n                this.$route.router.go({ path: \'/order/list\' });\n            }\n            this.getOrderDetial(orderId);\n            if (this.permissionList.assignManager) {\n                this.getManager();\n            }\n        }\n    },\n    ready() {\n        $("#orderDate").datetimepicker({\n            format: "yyyy-mm-dd",\n            language: "zh-CN",\n            todayHighlight: true,\n            autoclose: true,\n            minView: 2,\n            endDate: new Date(),\n        });\n    },\n    computed: {\n        isPayed() {\n            if (!this.orderBasic) {\n                return false;\n            }\n            if (this.orderBasic.status == \'DELIVERY_PAID\' || this.orderBasic.status == \'ONLINE_PAID\' || this.orderBasic.status == \'ONLINE_CONFIRMED\' || this.orderBasic.status == \'FINISHED\') {\n                return true;\n            }\n            return false;\n        },\n        consigneesForInvoiceInfo() {\n            var result = [];\n            for (let i = 0; i < this.consignees.length; i++) {\n                var consignee = {\n                    name: this.consignees[i].name,\n                    phone: this.consignees[i].phone,\n                    address: this.consignees[i].address,\n                };\n                consignee.fullRegionName = \'\';\n                for (let j = 0; j < this.consignees[i].regions.length; j++) {\n                    consignee.fullRegionName += this.consignees[i].regions[j].name;\n                }\n                result.push(consignee);\n            }\n            return result;\n        },\n    },\n    data() {\n        return {\n            orderId: \'\',\n            orderBasic: {\n                customer: {\n                },\n            },\n            manager: {},\n            orderItems: [],\n            consignees: [],\n            paymentData: {},\n            editInvoiceChecked: false,\n            invoiceInfo: {\n                amount: \'\',\n                content: \'\',\n                title: \'\',\n                zengzhishui: undefined,\n                remark: \'\',\n                consignee_name: \'\',\n                consignee_phone: \'\',\n                address: \'\',\n            },\n            orderDate: 0,\n            permissionList: {\n                assignManager: permissionValidator.orderSystem.order.assignManager(),\n            },\n            managerList: [],\n            dataForProductDetailDialog: {\n                show: false,\n                detail: {\n                    name: \'\',\n                    quantity: \'\',\n                    size: \'\',\n                    caizhi: \'\',\n                    others:\'\',\n                }\n            },\n            dataForEditOrAddProductDialog: {\n                show: false,\n                data: {\n                    orderId: \'\',\n                    orderProductId: \'\',\n                    isCustom: true,\n                    custom: {\n                        name: \'\',\n                        quantity: \'\',\n                        size: \'\',\n                        caizhi: \'\',\n                        others: \'\',\n                    },\n                    standard: null,\n                    price: \'\',\n                    arrival_time: \'\',\n                    isAllEditable: true,\n                },\n            },\n            dataForEditOrAddConsigneeDialog: {\n                show: false,\n                data: {\n                    orderId: \'\',\n                    orderConsigneeId: \'\',\n                    name: \'\',\n                    phone: \'\',\n                    regions: [],\n                    region_id: 0,\n                    address: \'\',\n                    post_code: \'\',\n                    remark: \'\',\n                },\n            },\n            dataForPopupTips: {\n                show: false,\n                type: \'danger\',\n                title: \'\',\n                content: \'\',\n            },\n            dataForPopupDialog: {\n                show: false,\n                title: \'删除确认\',\n                content: \'\',\n            },\n        }\n    },\n    events: {\n        \'click-positive-button\'() {\n            if (this.dataForPopupDialog.dialogId === DELETE_PRODUCT) {\n                this.deleteProduct(this.dataForPopupDialog.passingData);\n            } else if (this.dataForPopupDialog.dialogId === DELETE_CONSIGNEEITEM) {\n                this.deleteConsignee(this.dataForPopupDialog.passingData);\n            }\n        },\n        \'add-custom-product\'(result) {\n            var orderItem = {\n                id: result.id,\n                is_custom: true,\n                price: result.data.price,\n                detail: result.data.detail,\n                arrival_time: result.data.arrival_time,\n                produce_status: \'NOT_PRODUCE\',\n            };\n            this.orderItems.push(orderItem);\n        },\n        \'edit-custom-product\'(result) {\n            var orderItem = this.findOrderItem(result.id);\n            if (orderItem) {\n                orderItem.detail = result.data.detail;\n                orderItem.price = result.data.price;\n                if (orderItem.arrival_time === undefined) {\n                    Vue.set(orderItem, \'arrival_time\', result.data.arrival_time);\n                } else {\n                    orderItem.arrival_time = result.data.arrival_time;\n                }\n            }\n        },\n        \'edit-product\'(result) {\n            var orderItem = this.findOrderItem(result.id);\n            if (orderItem) {\n                orderItem.quantity = result.data.quantity;\n                orderItem.price = result.data.price;\n                if (orderItem.arrival_time === undefined) {\n                    Vue.set(orderItem, \'arrival_time\', result.data.arrival_time);\n                } else {\n                    orderItem.arrival_time = result.data.arrival_time;\n                }\n            }\n        },\n        \'edit-arrival-time\'(result) {\n            var orderItem = this.findOrderItem(result.id);\n            if (orderItem) {\n                if (orderItem.arrival_time === undefined) {\n                    Vue.set(orderItem, \'arrival_time\', result.data.arrival_time);\n                } else {\n                    orderItem.arrival_time = result.data.arrival_time;\n                }\n            }\n        },\n        \'add-consignee\'(result) {\n            var consigneeItem = {\n                id: result.id,\n                name: result.data.name,\n                phone: result.data.phone,\n                region_id: result.data.region_id,\n                address: result.data.address,\n                post_code: result.data.post_code,\n                remark: result.data.remark,\n                regions: result.data.regions,\n                logistics: [],\n            };\n            this.consignees.push(consigneeItem);\n        },\n        \'edit-consignee\'(result) {\n            var consigneeItem = this.findConsigneeItem(result.id);\n            if (consigneeItem) {\n                consigneeItem.name = result.data.name;\n                consigneeItem.phone = result.data.phone;\n                consigneeItem.region_id = result.data.region_id;\n                consigneeItem.address = result.data.address;\n                if (consigneeItem.post_code === undefined) {\n                    Vue.set(consigneeItem, \'post_code\', result.data.post_code);\n                } else {\n                    consigneeItem.post_code = result.data.post_code;\n                }\n                if (consigneeItem.remark === undefined) {\n                    Vue.set(consigneeItem, \'remark\', result.data.remark);\n                } else {\n                    consigneeItem.remark = result.data.remark;\n                }\n                consigneeItem.regions = result.data.regions;\n            }\n        },\n    },\n    methods: {\n        findOrderItem(id) {\n            for (var i = 0; i < this.orderItems.length; i++) {\n                if (this.orderItems[i].id === id) {\n                    return this.orderItems[i];\n                }\n            }\n        },\n        findConsigneeItem(id) {\n            for (var i = 0; i < this.consignees.length; i++) {\n                if (this.consignees[i].id === id) {\n                    return this.consignees[i];\n                }\n            }\n        },\n        showPupupTips(title, content, type = \'danger\') {\n            this.dataForPopupTips.show = true;\n            this.dataForPopupTips.type = type;\n            this.dataForPopupTips.title = title;\n            this.dataForPopupTips.content = content;\n        },\n        getManager() {\n            var url = \'/api/v2/admin/permissions/manager-list\';\n            this.$http.get(url)\n            .then((response) => {\n                if(!response.data.result || response.data.result === 0){\n                    this.managerList = response.data.data;\n                } else {\n                    callback.success(response.data);\n                }\n            },(response) => {\n                callback.error(response);\n            });\n        },\n        changeManager(event) {\n            var url = \'/api/v2/admin/orders/set-manager?order_id=\' + this.orderId + \'&manager_id=\' + this.manager.id;\n            this.$http.put(url)\n            .then((response) => {\n                if(!response.data.result || response.data.result === 0){\n                    this.showPupupTips(\'操作成功\', \'修改客户经理/客服成功\', \'success\');\n                } else {\n                    callback.success(response.data);\n                }\n            },(response) => {\n                callback.error(response);\n            });\n        },\n        getOrderDetial(id) {\n            var url = \'/api/v2/admin/orders/detail-v2?id=\' + id;\n            this.$http.get(url)\n            .then((response) => {\n                if(!response.data.result || response.data.result === 0) { \n                    this.orderId = id;   \n                    this.orderBasic = response.data.basic;\n                    if (this.orderBasic.manager) {\n                        this.manager = this.orderBasic.manager;\n                    }\n                    this.orderItems =response.data.items;\n                    this.consignees = response.data.consignees;\n                    this.paymentData = response.data.payment;\n                    if (response.data.invoice) {\n                        this.editInvoiceChecked = true;\n                        this.invoiceInfo = response.data.invoice;\n                    }\n                    this.orderDate = response.data.time;\n                } else {\n                    callback.success(response.data);\n                }\n            },(response) => {\n                callback.error(response);\n            });\n        },\n        validateCustomer() {\n            var result = orderValidator.validateCustomerName(this.orderBasic.customer.name);\n            if (!result.ok) {\n                return result.errorMsg;\n            }\n            return;\n        },\n        validateInvoiceInfo() {\n            if (this.editInvoiceChecked) {\n                var result = orderValidator.validateInvoiceAmount(this.invoiceInfo.amount);\n                if (!result.ok) {\n                    return result.errorMsg;\n                }\n                var infoName = ["开票内容", "开票抬头", "发票收货人", "发票收货人联系方式", "发票收货人收货地址"];\n                var infoData = [this.invoiceInfo.content, this.invoiceInfo.title, this.invoiceInfo.consignee_name, this.invoiceInfo.consignee_phone, this.invoiceInfo.address];\n                for (let i = 0; i < infoName.length; i++) {\n                    result = orderValidator.validateInvoiceItem(infoName[i], infoData[i]);\n                    if (!result.ok) {\n                        return result.errorMsg;\n                    }\n                }\n                if (this.invoiceInfo.zengzhishui) {\n                    infoName = ["发票信息中纳税人识别号", "发票信息中注册地址", "发票信息中电话", "发票信息中开户行", "发票信息中账号"];\n                    infoData = [this.invoiceInfo.zengzhishui.identifier, this.invoiceInfo.zengzhishui.address, this.invoiceInfo.zengzhishui.phone, this.invoiceInfo.zengzhishui.account, this.invoiceInfo.zengzhishui.bank];\n                    for (let i = 0; i < infoName.length; i++) {\n                        result = orderValidator.validateInvoiceItem(infoName[i], infoData[i]);\n                        if (!result.ok) {\n                            return result.errorMsg;\n                        }\n                    }\n                }\n            }\n            return;\n        },\n        editOrder() {\n            if (!this.orderDate) {\n                this.dataForPopupTips.show = true;\n                this.dataForPopupTips.title = \'输入有误\';\n                this.dataForPopupTips.content = \'订单日期不能为空\';\n                return;\n            }\n            var result = this.validateCustomer();\n            if (result) {\n                this.dataForPopupTips.show = true;\n                this.dataForPopupTips.title = \'输入有误\';\n                this.dataForPopupTips.content = result;\n                return;\n            }\n            result = this.validateInvoiceInfo();\n            if (result) {\n                this.dataForPopupTips.show = true;\n                this.dataForPopupTips.title = \'输入有误\';\n                this.dataForPopupTips.content = result;\n                return;\n            }\n            var url = \'/api/v2/admin/orders/edit-basic?id=\' + this.orderId;\n            var data = {\n                payment: this.paymentData.payment,\n                payment_remark: this.paymentData.remark,\n                customer: this.orderBasic.customer,\n                remark: this.orderBasic.remark,\n                time: this.orderDate,\n            };\n            if (this.editInvoiceChecked) {\n                data.invoice = this.invoiceInfo;\n            }\n            this.$http.put(url, data)\n            .then((response) => {\n                if(!response.data.result || response.data.result === 0){\n                    this.$route.router.go({ path: \'/order/detail/\' + this.orderId});\n                } else {\n                    callback.success(response.data);\n                }\n            },(response) => {\n                callback.error(response);\n            });\n        },\n        addProduct() {\n            this.dataForEditOrAddProductDialog.show = true;\n            this.dataForEditOrAddProductDialog.data.orderId = this.orderId;\n            this.dataForEditOrAddProductDialog.data.orderProductId = \'\';\n            this.dataForEditOrAddProductDialog.data.isCustom = true;\n            this.dataForEditOrAddProductDialog.data.custom = {\n                name: \'\',\n                quantity: \'\',\n                size: \'\',\n                caizhi: \'\',\n                others:\'\',\n            };\n            this.dataForEditOrAddProductDialog.data.standard = null;\n            this.dataForEditOrAddProductDialog.data.price = \'\';\n            this.dataForEditOrAddProductDialog.data.arrival_time = \'\';\n            this.dataForEditOrAddProductDialog.data.isAllEditable = true;\n        },\n        editProduct(item) {\n            this.dataForEditOrAddProductDialog.show = true;\n            this.dataForEditOrAddProductDialog.data.orderId = this.orderId;\n            this.dataForEditOrAddProductDialog.data.orderProductId = item.id;\n            if (item.is_custom) {\n                this.dataForEditOrAddProductDialog.data.isCustom = true;\n                this.dataForEditOrAddProductDialog.data.custom = {\n                    name: item.detail.name,\n                    quantity: item.detail.quantity,\n                    size: item.detail.size,\n                    caizhi: item.detail.caizhi,\n                    others: item.detail.others,\n                };\n                this.dataForEditOrAddProductDialog.data.standard = null;\n            } else {\n                this.dataForEditOrAddProductDialog.data.isCustom = false;\n                this.dataForEditOrAddProductDialog.data.custom = null;\n                this.dataForEditOrAddProductDialog.data.standard = {\n                    quantity: item.quantity,\n                };\n            }\n            this.dataForEditOrAddProductDialog.data.price = item.price;\n            this.dataForEditOrAddProductDialog.data.arrival_time = item.arrival_time;\n            this.dataForEditOrAddProductDialog.data.isAllEditable = ((!this.isPayed) && item.produce_status === \'NOT_PRODUCE\');\n        },\n        showProductDetailDialog(item) {\n            this.dataForProductDetailDialog.show = true;\n            this.dataForProductDetailDialog.detail = {\n                name: item.detail.name,\n                quantity: item.detail.quantity,\n                size: item.detail.size,\n                caizhi: item.detail.caizhi,\n                others: item.detail.others,\n            }\n        },\n        showDeleteProductDialog(item) {\n            this.dataForPopupDialog.show = true;\n            this.dataForPopupDialog.content = "确定删除此条商品？";\n            this.dataForPopupDialog.dialogId = DELETE_PRODUCT;\n            this.dataForPopupDialog.passingData = item;\n        },\n        deleteProduct(item) {\n            var url = \'/api/v2/admin/orders/remove-item-v2?item_id=\' + item.id;\n            this.$http.delete(url)\n            .then((response) => {\n                if(!response.data.result || response.data.result === 0){\n                    this.orderItems.$remove(item);\n                    this.showPupupTips(\'操作成功\', \'删除商品成功\', \'success\');\n                } else {\n                    callback.success(response.data);\n                }\n            },(response) => {\n                callback.error(response);\n            });\n        },\n        addConsignee() {\n            this.dataForEditOrAddConsigneeDialog.show = true;\n            this.dataForEditOrAddConsigneeDialog.data.orderId = this.orderId;\n            this.dataForEditOrAddConsigneeDialog.data.orderConsigneeId = \'\';\n            this.dataForEditOrAddConsigneeDialog.data.name = \'\';\n            this.dataForEditOrAddConsigneeDialog.data.phone = \'\';\n            this.dataForEditOrAddConsigneeDialog.data.regions = [];\n            this.dataForEditOrAddConsigneeDialog.data.region_id = 0;\n            this.dataForEditOrAddConsigneeDialog.data.address = \'\';\n            this.dataForEditOrAddConsigneeDialog.data.post_code = \'\';\n            this.dataForEditOrAddConsigneeDialog.data.remark = \'\';\n        },\n        editConsignee(item) {\n            var regions = [];\n            for (var i = 0; i < item.regions.length; i++) {\n                regions.push(item.regions[i].id);\n            }\n            this.dataForEditOrAddConsigneeDialog.show = true;\n            this.dataForEditOrAddConsigneeDialog.data.orderId = this.orderId;\n            this.dataForEditOrAddConsigneeDialog.data.orderConsigneeId = item.id;\n            this.dataForEditOrAddConsigneeDialog.data.name = item.name;\n            this.dataForEditOrAddConsigneeDialog.data.phone = item.phone;\n            this.dataForEditOrAddConsigneeDialog.data.regions = regions;\n            this.dataForEditOrAddConsigneeDialog.data.region_id = item.region_id;\n            this.dataForEditOrAddConsigneeDialog.data.address = item.address;\n            this.dataForEditOrAddConsigneeDialog.data.post_code = item.post_code;\n            this.dataForEditOrAddConsigneeDialog.data.remark = item.remark;\n        },\n        showDeleteConsigneeDialog(item) {\n            this.dataForPopupDialog.show = true;\n            this.dataForPopupDialog.content = "确定删除此收货人？";\n            this.dataForPopupDialog.dialogId = DELETE_CONSIGNEEITEM;\n            this.dataForPopupDialog.passingData = item;\n        },\n        deleteConsignee(item) {\n            var url = \'/api/v2/admin/orders/remove-consignee?id=\' + item.id;\n            this.$http.delete(url)\n            .then((response) => {\n                if(!response.data.result || response.data.result === 0){\n                    this.consignees.$remove(item);\n                    this.showPupupTips(\'操作成功\', \'删除收货人成功\', \'success\');\n                } else {\n                    callback.success(response.data);\n                }\n            },(response) => {\n                callback.error(response);\n            })\n        },\n    }\n}\n</script>\n\n<style scoped>\n.product-table, .consignee-table {\n    table-layout: fixed;\n}\n\n.product-table th, .product-table td, .consignee-table th, .consignee-table td {\n    text-align: center;\n    vertical-align: middle;\n}\n\n.product-table td .btn-link, .consignee-table td .btn-link {\n    text-decoration: none;\n    cursor: pointer;\n}\n\n.product-table td .btn-link:hover, .consignee-table td .btn-link:hover {\n    text-decoration: underline;\n}\n\n.show-right{\n    margin-left: 20px;\n}\n</style>'],
sourceRoot:"webpack://"}])},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(10),o=n(a),s=i(64),r=n(s),d=i(72),l=n(d),c=i(77),u=n(c),p=i(82),v=n(p),h=i(150),m=n(h),g=i(155),f=n(g),b=i(48),_=i(87),y=i(45),A=i(4),D=n(A),P="DELETE_PRODUCT",w="DELETE_CONSIGNEEITEM";e["default"]={name:"OrderEditView",components:{editInvoiceInfoComponent:r["default"],productDetailDialog:u["default"],popupTips:v["default"],popupDialog:l["default"],editOrAddProductDialog:m["default"],editOrAddConsigneeDialog:f["default"]},route:{data:function(t){var e=t.to,i=e.params.id;i||this.$route.router.go({path:"/order/list"}),this.getOrderDetial(i),this.permissionList.assignManager&&this.getManager()}},ready:function(){(0,D["default"])("#orderDate").datetimepicker({format:"yyyy-mm-dd",language:"zh-CN",todayHighlight:!0,autoclose:!0,minView:2,endDate:new Date})},computed:{isPayed:function(){return!!this.orderBasic&&("DELIVERY_PAID"==this.orderBasic.status||"ONLINE_PAID"==this.orderBasic.status||"ONLINE_CONFIRMED"==this.orderBasic.status||"FINISHED"==this.orderBasic.status)},consigneesForInvoiceInfo:function(){for(var t=[],e=0;e<this.consignees.length;e++){var i={name:this.consignees[e].name,phone:this.consignees[e].phone,address:this.consignees[e].address};i.fullRegionName="";for(var n=0;n<this.consignees[e].regions.length;n++)i.fullRegionName+=this.consignees[e].regions[n].name;t.push(i)}return t}},data:function(){return{orderId:"",orderBasic:{customer:{}},manager:{},orderItems:[],consignees:[],paymentData:{},editInvoiceChecked:!1,invoiceInfo:{amount:"",content:"",title:"",zengzhishui:void 0,remark:"",consignee_name:"",consignee_phone:"",address:""},orderDate:0,permissionList:{assignManager:y.permissionValidator.orderSystem.order.assignManager()},managerList:[],dataForProductDetailDialog:{show:!1,detail:{name:"",quantity:"",size:"",caizhi:"",others:""}},dataForEditOrAddProductDialog:{show:!1,data:{orderId:"",orderProductId:"",isCustom:!0,custom:{name:"",quantity:"",size:"",caizhi:"",others:""},standard:null,price:"",arrival_time:"",isAllEditable:!0}},dataForEditOrAddConsigneeDialog:{show:!1,data:{orderId:"",orderConsigneeId:"",name:"",phone:"",regions:[],region_id:0,address:"",post_code:"",remark:""}},dataForPopupTips:{show:!1,type:"danger",title:"",content:""},dataForPopupDialog:{show:!1,title:"删除确认",content:""}}},events:{"click-positive-button":function(){this.dataForPopupDialog.dialogId===P?this.deleteProduct(this.dataForPopupDialog.passingData):this.dataForPopupDialog.dialogId===w&&this.deleteConsignee(this.dataForPopupDialog.passingData)},"add-custom-product":function(t){var e={id:t.id,is_custom:!0,price:t.data.price,detail:t.data.detail,arrival_time:t.data.arrival_time,produce_status:"NOT_PRODUCE"};this.orderItems.push(e)},"edit-custom-product":function(t){var e=this.findOrderItem(t.id);e&&(e.detail=t.data.detail,e.price=t.data.price,void 0===e.arrival_time?o["default"].set(e,"arrival_time",t.data.arrival_time):e.arrival_time=t.data.arrival_time)},"edit-product":function(t){var e=this.findOrderItem(t.id);e&&(e.quantity=t.data.quantity,e.price=t.data.price,void 0===e.arrival_time?o["default"].set(e,"arrival_time",t.data.arrival_time):e.arrival_time=t.data.arrival_time)},"edit-arrival-time":function(t){var e=this.findOrderItem(t.id);e&&(void 0===e.arrival_time?o["default"].set(e,"arrival_time",t.data.arrival_time):e.arrival_time=t.data.arrival_time)},"add-consignee":function(t){var e={id:t.id,name:t.data.name,phone:t.data.phone,region_id:t.data.region_id,address:t.data.address,post_code:t.data.post_code,remark:t.data.remark,regions:t.data.regions,logistics:[]};this.consignees.push(e)},"edit-consignee":function(t){var e=this.findConsigneeItem(t.id);e&&(e.name=t.data.name,e.phone=t.data.phone,e.region_id=t.data.region_id,e.address=t.data.address,void 0===e.post_code?o["default"].set(e,"post_code",t.data.post_code):e.post_code=t.data.post_code,void 0===e.remark?o["default"].set(e,"remark",t.data.remark):e.remark=t.data.remark,e.regions=t.data.regions)}},methods:{findOrderItem:function(t){for(var e=0;e<this.orderItems.length;e++)if(this.orderItems[e].id===t)return this.orderItems[e]},findConsigneeItem:function(t){for(var e=0;e<this.consignees.length;e++)if(this.consignees[e].id===t)return this.consignees[e]},showPupupTips:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?"danger":arguments[2];this.dataForPopupTips.show=!0,this.dataForPopupTips.type=i,this.dataForPopupTips.title=t,this.dataForPopupTips.content=e},getManager:function(){var t=this,e="/api/v2/admin/permissions/manager-list";this.$http.get(e).then(function(e){e.data.result&&0!==e.data.result?b.callback.success(e.data):t.managerList=e.data.data},function(t){b.callback.error(t)})},changeManager:function(t){var e=this,i="/api/v2/admin/orders/set-manager?order_id="+this.orderId+"&manager_id="+this.manager.id;this.$http.put(i).then(function(t){t.data.result&&0!==t.data.result?b.callback.success(t.data):e.showPupupTips("操作成功","修改客户经理/客服成功","success")},function(t){b.callback.error(t)})},getOrderDetial:function(t){var e=this,i="/api/v2/admin/orders/detail-v2?id="+t;this.$http.get(i).then(function(i){i.data.result&&0!==i.data.result?b.callback.success(i.data):(e.orderId=t,e.orderBasic=i.data.basic,e.orderBasic.manager&&(e.manager=e.orderBasic.manager),e.orderItems=i.data.items,e.consignees=i.data.consignees,e.paymentData=i.data.payment,i.data.invoice&&(e.editInvoiceChecked=!0,e.invoiceInfo=i.data.invoice),e.orderDate=i.data.time)},function(t){b.callback.error(t)})},validateCustomer:function(){var t=_.orderValidator.validateCustomerName(this.orderBasic.customer.name);if(!t.ok)return t.errorMsg},validateInvoiceInfo:function(){if(this.editInvoiceChecked){var t=_.orderValidator.validateInvoiceAmount(this.invoiceInfo.amount);if(!t.ok)return t.errorMsg;for(var e=["开票内容","开票抬头","发票收货人","发票收货人联系方式","发票收货人收货地址"],i=[this.invoiceInfo.content,this.invoiceInfo.title,this.invoiceInfo.consignee_name,this.invoiceInfo.consignee_phone,this.invoiceInfo.address],n=0;n<e.length;n++)if(t=_.orderValidator.validateInvoiceItem(e[n],i[n]),!t.ok)return t.errorMsg;if(this.invoiceInfo.zengzhishui){e=["发票信息中纳税人识别号","发票信息中注册地址","发票信息中电话","发票信息中开户行","发票信息中账号"],i=[this.invoiceInfo.zengzhishui.identifier,this.invoiceInfo.zengzhishui.address,this.invoiceInfo.zengzhishui.phone,this.invoiceInfo.zengzhishui.account,this.invoiceInfo.zengzhishui.bank];for(var a=0;a<e.length;a++)if(t=_.orderValidator.validateInvoiceItem(e[a],i[a]),!t.ok)return t.errorMsg}}},editOrder:function(){var t=this;if(!this.orderDate)return this.dataForPopupTips.show=!0,this.dataForPopupTips.title="输入有误",void(this.dataForPopupTips.content="订单日期不能为空");var e=this.validateCustomer();if(e)return this.dataForPopupTips.show=!0,this.dataForPopupTips.title="输入有误",void(this.dataForPopupTips.content=e);if(e=this.validateInvoiceInfo())return this.dataForPopupTips.show=!0,this.dataForPopupTips.title="输入有误",void(this.dataForPopupTips.content=e);var i="/api/v2/admin/orders/edit-basic?id="+this.orderId,n={payment:this.paymentData.payment,payment_remark:this.paymentData.remark,customer:this.orderBasic.customer,remark:this.orderBasic.remark,time:this.orderDate};this.editInvoiceChecked&&(n.invoice=this.invoiceInfo),this.$http.put(i,n).then(function(e){e.data.result&&0!==e.data.result?b.callback.success(e.data):t.$route.router.go({path:"/order/detail/"+t.orderId})},function(t){b.callback.error(t)})},addProduct:function(){this.dataForEditOrAddProductDialog.show=!0,this.dataForEditOrAddProductDialog.data.orderId=this.orderId,this.dataForEditOrAddProductDialog.data.orderProductId="",this.dataForEditOrAddProductDialog.data.isCustom=!0,this.dataForEditOrAddProductDialog.data.custom={name:"",quantity:"",size:"",caizhi:"",others:""},this.dataForEditOrAddProductDialog.data.standard=null,this.dataForEditOrAddProductDialog.data.price="",this.dataForEditOrAddProductDialog.data.arrival_time="",this.dataForEditOrAddProductDialog.data.isAllEditable=!0},editProduct:function(t){this.dataForEditOrAddProductDialog.show=!0,this.dataForEditOrAddProductDialog.data.orderId=this.orderId,this.dataForEditOrAddProductDialog.data.orderProductId=t.id,t.is_custom?(this.dataForEditOrAddProductDialog.data.isCustom=!0,this.dataForEditOrAddProductDialog.data.custom={name:t.detail.name,quantity:t.detail.quantity,size:t.detail.size,caizhi:t.detail.caizhi,others:t.detail.others},this.dataForEditOrAddProductDialog.data.standard=null):(this.dataForEditOrAddProductDialog.data.isCustom=!1,this.dataForEditOrAddProductDialog.data.custom=null,this.dataForEditOrAddProductDialog.data.standard={quantity:t.quantity}),this.dataForEditOrAddProductDialog.data.price=t.price,this.dataForEditOrAddProductDialog.data.arrival_time=t.arrival_time,this.dataForEditOrAddProductDialog.data.isAllEditable=!this.isPayed&&"NOT_PRODUCE"===t.produce_status},showProductDetailDialog:function(t){this.dataForProductDetailDialog.show=!0,this.dataForProductDetailDialog.detail={name:t.detail.name,quantity:t.detail.quantity,size:t.detail.size,caizhi:t.detail.caizhi,others:t.detail.others}},showDeleteProductDialog:function(t){this.dataForPopupDialog.show=!0,this.dataForPopupDialog.content="确定删除此条商品？",this.dataForPopupDialog.dialogId=P,this.dataForPopupDialog.passingData=t},deleteProduct:function(t){var e=this,i="/api/v2/admin/orders/remove-item-v2?item_id="+t.id;this.$http["delete"](i).then(function(i){i.data.result&&0!==i.data.result?b.callback.success(i.data):(e.orderItems.$remove(t),e.showPupupTips("操作成功","删除商品成功","success"))},function(t){b.callback.error(t)})},addConsignee:function(){this.dataForEditOrAddConsigneeDialog.show=!0,this.dataForEditOrAddConsigneeDialog.data.orderId=this.orderId,this.dataForEditOrAddConsigneeDialog.data.orderConsigneeId="",this.dataForEditOrAddConsigneeDialog.data.name="",this.dataForEditOrAddConsigneeDialog.data.phone="",this.dataForEditOrAddConsigneeDialog.data.regions=[],this.dataForEditOrAddConsigneeDialog.data.region_id=0,this.dataForEditOrAddConsigneeDialog.data.address="",this.dataForEditOrAddConsigneeDialog.data.post_code="",this.dataForEditOrAddConsigneeDialog.data.remark=""},editConsignee:function(t){for(var e=[],i=0;i<t.regions.length;i++)e.push(t.regions[i].id);this.dataForEditOrAddConsigneeDialog.show=!0,this.dataForEditOrAddConsigneeDialog.data.orderId=this.orderId,this.dataForEditOrAddConsigneeDialog.data.orderConsigneeId=t.id,this.dataForEditOrAddConsigneeDialog.data.name=t.name,this.dataForEditOrAddConsigneeDialog.data.phone=t.phone,this.dataForEditOrAddConsigneeDialog.data.regions=e,this.dataForEditOrAddConsigneeDialog.data.region_id=t.region_id,this.dataForEditOrAddConsigneeDialog.data.address=t.address,this.dataForEditOrAddConsigneeDialog.data.post_code=t.post_code,this.dataForEditOrAddConsigneeDialog.data.remark=t.remark},showDeleteConsigneeDialog:function(t){this.dataForPopupDialog.show=!0,this.dataForPopupDialog.content="确定删除此收货人？",this.dataForPopupDialog.dialogId=w,this.dataForPopupDialog.passingData=t},deleteConsignee:function(t){var e=this,i="/api/v2/admin/orders/remove-consignee?id="+t.id;this.$http["delete"](i).then(function(i){i.data.result&&0!==i.data.result?b.callback.success(i.data):(e.consignees.$remove(t),e.showPupupTips("操作成功","删除收货人成功","success"))},function(t){b.callback.error(t)})}}}},function(t,e,i){var n,a;i(151),n=i(153),a=i(154),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options:t.exports).template=a)},function(t,e,i){var n=i(152);"string"==typeof n&&(n=[[t.id,n,""]]);i(42)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(41)(),e.push([t.id,".modal[_v-45f5d98c]{height:100%}.modal-dialog[_v-45f5d98c]{top:20%}","",{version:3,sources:["/./src/views/order/comp/editOrAddProductDialog.vue.style"],names:[],mappings:"AAoQA,oBACA,WAAA,CACA,AAEA,2BACA,OAAA,CACA",file:"editOrAddProductDialog.vue",sourcesContent:['<!-- editOrAddProductDialog.vue -->\n<template>\n    <div class="modal" v-show="show">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" @click="closeDialog">&times;</button>\n                    <h4 class="modal-title">{{title}}</h4>\n                </div>\n                <div class="modal-body">\n                    <form class="form-horizontal">\n                        <template v-if="data.isCustom">\n                            <div class="form-group">\n                                <label class="col-lg-3 control-label" for="customName">产品名称<span class="text-danger">*</span>：</label>\n                                <div class="col-lg-4">\n                                    <input class="form-control input-sm" id="customName" type="text" :disabled="!data.isAllEditable" v-model="data.custom.name">\n                                </div>\n                                <span class="col-lg-2 text-danger help-block" v-show="!data.isAllEditable">无法修改</span>\n                            </div>\n                            <div class="form-group">\n                                <label class="col-lg-3 control-label" for="customQuantity">数量<span class="text-danger">*</span>：</label>\n                                <div class="col-lg-4">\n                                    <input class="form-control input-sm" id="customQuantity" placeholder="100本" type="text" :disabled="!data.isAllEditable" v-model="data.custom.quantity">\n                                </div>\n                                <span class="col-lg-2 text-danger help-block" v-show="!data.isAllEditable">无法修改</span>\n                            </div>\n                            <div class="form-group">\n                                <label class="col-lg-3 control-label" for="customSize">产品尺寸：</label>\n                                <div class="col-lg-6">\n                                    <input class="form-control input-sm" id="customSize" placeholder="长100*宽80，单位：毫米(mm)" type="text" :disabled="!data.isAllEditable" v-model="data.custom.size">\n                                </div>\n                                <span class="col-lg-2 text-danger help-block" v-show="!data.isAllEditable">无法修改</span>\n                            </div>\n                            <div class="form-group">\n                                <label class="col-lg-3 control-label" for="customCaizhi">材质：</label>\n                                <div class="col-lg-6">\n                                    <input class="form-control input-sm" id="customCaizhi" placeholder="150g铜版纸" type="text" :disabled="!data.isAllEditable" v-model="data.custom.caizhi">\n                                </div>\n                                <span class="col-lg-2 text-danger help-block" v-show="!data.isAllEditable">无法修改</span>\n                            </div>\n                            <div class="form-group">\n                                <label class="col-lg-3 control-label" for="customOthers">其他要求：</label>\n                                <div class="col-lg-7">\n                                    <textarea class="form-control input-sm" id="customOthers" placeholder="需要烫金等" type="text" :disabled="!data.isAllEditable" v-model="data.custom.others"></textarea>\n                                </div>\n                                <span class="col-lg-2 text-danger help-block" v-show="!data.isAllEditable">无法修改</span>\n                            </div>\n                        </template>\n                        <template v-else>\n                            <div class="form-group">\n                                <label class="col-lg-3 control-label" for="productQuantity">数量<span class="text-danger">*</span>：</label>\n                                <div class="col-lg-4">\n                                    <input class="form-control input-sm" id="productQuantity" type="number" min="1" :disabled="!data.isAllEditable" v-model="data.standard.quantity" number>\n                                </div>\n                                <span class="col-lg-2 text-danger help-block" v-show="!data.isAllEditable">无法修改</span>\n                            </div>\n                        </template>\n                        <div class="form-group">\n                            <label class="col-lg-3 control-label" for="productPrice">价格<span class="text-danger">*</span>：</label>\n                            <div class="col-lg-4">\n                                <input class="form-control input-sm" id="productPrice" placeholder="单位：元" type="text" :disabled="!data.isAllEditable" v-model="data.price | priceFilter">\n                            </div>\n                            <span class="col-lg-2 text-danger help-block" v-show="!data.isAllEditable">无法修改</span>\n                        </div>\n                        <div class="form-group">\n                            <label class="col-lg-3 control-label" for="productArrivalTime">到货时间要求：</label>\n                            <div class="col-lg-6">\n                                <input class="form-control input-sm" id="productArrivalTime" type="text" v-model="data.arrival_time">\n                            </div>\n                        </div>\n                    </form>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-primary" :disabled="!buttonEnabled" @click="confirmSubmit">确定</button>\n                </div>\n            </div>\n        </div>\n        <popup-tips :show.sync="dataForPopupTips.show" :tips-type="dataForPopupTips.type" :tips-title="dataForPopupTips.title" :tips-content="dataForPopupTips.content"></popup-tips>\n    </div>\n</template>\n\n<script>\nimport popupTips from \'../../../components/popupTips.vue\'\nimport { callback } from \'../../../store\'\nimport { orderValidator } from \'../../../store/dataValidator.js\'\n\nexport default {\n    name: \'EditOrAddProductDialogView\',\n    components: {\n        popupTips,\n    },\n    props: [\'show\', \'data\'],\n    data() {\n        return {\n            buttonEnabled: true,\n            dataForPopupTips: {\n                show: false,\n                type: \'danger\',\n                title: \'\',\n                content: \'\',\n            },\n        }\n    },\n    computed: {\n        title() {\n            if (this.data.orderProductId) {\n                if (this.data.isCustom) {\n                    return \'编辑非标品\';\n                } else {\n                    return \'编辑标准品\';\n                }\n            } else {\n                return \'新增非标品\';\n            }\n        },\n    },\n    methods: {\n        validateCustomProduct(custom, price) {\n            var result = orderValidator.validateProductName(custom.name);\n            if (!result.ok) {\n                return result.errorMsg;\n            }\n            result = orderValidator.validateProductQuantity(custom.quantity);\n            if (!result.ok) {\n                return result.errorMsg;\n            }\n            result = orderValidator.validateProductPrice(price);\n            if (!result.ok) {\n                return result.errorMsg;\n            }\n            return;\n        },\n        validateProduct(quantity, price) {\n            if (!quantity) {\n                return \'产品数量不能为空或者0\';\n            }\n            var result = orderValidator.validateProductPrice(price);\n            if (!result.ok) {\n                return result.errorMsg;\n            }\n            return;\n        },\n        confirmSubmit() {\n            if (this.buttonEnabled) {\n                this.buttonEnabled = false;\n                if (this.data.orderProductId) {\n                    if (this.data.isAllEditable) {\n                        if (this.data.isCustom) {\n                            this.editCustomProduct();\n                        } else {\n                            this.editProduct();\n                        }\n                    } else {\n                        this.editArrivalTime();\n                    }\n                } else {\n                    this.addCustomProduct();\n                }\n            }\n        },\n        addCustomProduct() {\n            var result = this.validateCustomProduct(this.data.custom, this.data.price);\n            if(result) {\n                this.dataForPopupTips.show = true;\n                this.dataForPopupTips.title = \'输入有误\';\n                this.dataForPopupTips.content = result;\n                this.buttonEnabled = true;\n                return;\n            }\n            var data = {\n                detail: {\n                    name: this.data.custom.name,\n                    quantity: this.data.custom.quantity,\n                    size: this.data.custom.size,\n                    caizhi: this.data.custom.caizhi,\n                    others: this.data.custom.others,\n                },\n                price: this.data.price,\n                arrival_time: this.data.arrival_time\n            };\n            var url = \'/api/v2/admin/orders/add-custom-item?order_id=\' + this.data.orderId;\n            this.submitToServer(\'add-custom-product\', url, data, null);\n        },\n        editCustomProduct() {\n            var result = this.validateCustomProduct(this.data.custom, this.data.price);\n            if(result) {\n                this.dataForPopupTips.show = true;\n                this.dataForPopupTips.title = \'输入有误\';\n                this.dataForPopupTips.content = result;\n                this.buttonEnabled = true;\n                return;\n            }\n            var data = {\n                detail: {\n                    name: this.data.custom.name,\n                    quantity: this.data.custom.quantity,\n                    size: this.data.custom.size,\n                    caizhi: this.data.custom.caizhi,\n                    others: this.data.custom.others,\n                },\n                price: this.data.price,\n                arrival_time: this.data.arrival_time\n            };\n            var url = \'/api/v2/admin/orders/update-custom-item?id=\' + this.data.orderProductId;\n            this.submitToServer(\'edit-custom-product\', url, data, this.data.orderProductId);\n        },\n        editProduct() {\n            var result = this.validateProduct(this.data.standard.quantity, this.data.price);\n            if(result) {\n                this.dataForPopupTips.show = true;\n                this.dataForPopupTips.title = \'输入有误\';\n                this.dataForPopupTips.content = result;\n                this.buttonEnabled = true;\n                return;\n            }\n            var data = {\n                quantity: this.data.standard.quantity,\n                price: this.data.price,\n                arrival_time: this.data.arrival_time\n            };\n            var url = \'/api/v2/admin/orders/update-item?id=\'+ this.data.orderProductId;\n            this.submitToServer(\'edit-product\', url, data, this.data.orderProductId);\n        },\n        editArrivalTime() {\n            var data = {\n                arrival_time: this.data.arrival_time\n            };\n            var url = \'/api/v2/admin/orders/update-item-arrival-time?id=\'+ this.data.orderProductId;\n            this.submitToServer(\'edit-arrival-time\', url, data, this.data.orderProductId);\n        },\n        submitToServer(type, url, data, id) {\n            this.$http.put(url, data)\n            .then((response) => {\n                if(!response.data.result || response.data.result === 0) {\n                    if (!id) {\n                        id = response.data.id;\n                    }\n                    var result = {\n                        id: id,\n                        data: data,\n                    };\n                    this.show = false;\n                    this.$dispatch(type, result);\n                } else {\n                    callback.success(response.data);\n                }\n                this.buttonEnabled = true;\n            },(response) => {\n                callback.error(response);\n                this.buttonEnabled = true;\n            });\n        },\n        closeDialog() {\n            this.show = false;\n        },\n    }\n}\n</script>\n\n<style scoped>\n.modal {\n    height: 100%;\n}\n\n.modal-dialog {\n    top: 20%;\n}\n\n</style>'],sourceRoot:"webpack://"}])},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(82),o=n(a),s=i(48),r=i(87);e["default"]={name:"EditOrAddProductDialogView",components:{popupTips:o["default"]},props:["show","data"],data:function(){return{buttonEnabled:!0,dataForPopupTips:{show:!1,type:"danger",title:"",content:""}}},computed:{title:function(){return this.data.orderProductId?this.data.isCustom?"编辑非标品":"编辑标准品":"新增非标品"}},methods:{validateCustomProduct:function(t,e){var i=r.orderValidator.validateProductName(t.name);return i.ok?(i=r.orderValidator.validateProductQuantity(t.quantity),i.ok?(i=r.orderValidator.validateProductPrice(e),i.ok?void 0:i.errorMsg):i.errorMsg):i.errorMsg},validateProduct:function(t,e){if(!t)return"产品数量不能为空或者0";var i=r.orderValidator.validateProductPrice(e);return i.ok?void 0:i.errorMsg},confirmSubmit:function(){this.buttonEnabled&&(this.buttonEnabled=!1,this.data.orderProductId?this.data.isAllEditable?this.data.isCustom?this.editCustomProduct():this.editProduct():this.editArrivalTime():this.addCustomProduct())},addCustomProduct:function(){var t=this.validateCustomProduct(this.data.custom,this.data.price);if(t)return this.dataForPopupTips.show=!0,this.dataForPopupTips.title="输入有误",this.dataForPopupTips.content=t,void(this.buttonEnabled=!0);var e={detail:{name:this.data.custom.name,quantity:this.data.custom.quantity,size:this.data.custom.size,caizhi:this.data.custom.caizhi,others:this.data.custom.others},price:this.data.price,arrival_time:this.data.arrival_time},i="/api/v2/admin/orders/add-custom-item?order_id="+this.data.orderId;this.submitToServer("add-custom-product",i,e,null)},editCustomProduct:function(){var t=this.validateCustomProduct(this.data.custom,this.data.price);if(t)return this.dataForPopupTips.show=!0,this.dataForPopupTips.title="输入有误",this.dataForPopupTips.content=t,void(this.buttonEnabled=!0);var e={detail:{name:this.data.custom.name,quantity:this.data.custom.quantity,size:this.data.custom.size,caizhi:this.data.custom.caizhi,others:this.data.custom.others},price:this.data.price,arrival_time:this.data.arrival_time},i="/api/v2/admin/orders/update-custom-item?id="+this.data.orderProductId;this.submitToServer("edit-custom-product",i,e,this.data.orderProductId)},editProduct:function(){var t=this.validateProduct(this.data.standard.quantity,this.data.price);if(t)return this.dataForPopupTips.show=!0,this.dataForPopupTips.title="输入有误",this.dataForPopupTips.content=t,void(this.buttonEnabled=!0);var e={quantity:this.data.standard.quantity,price:this.data.price,arrival_time:this.data.arrival_time},i="/api/v2/admin/orders/update-item?id="+this.data.orderProductId;this.submitToServer("edit-product",i,e,this.data.orderProductId)},editArrivalTime:function(){var t={arrival_time:this.data.arrival_time},e="/api/v2/admin/orders/update-item-arrival-time?id="+this.data.orderProductId;this.submitToServer("edit-arrival-time",e,t,this.data.orderProductId)},submitToServer:function(t,e,i,n){var a=this;this.$http.put(e,i).then(function(e){if(e.data.result&&0!==e.data.result)s.callback.success(e.data);else{n||(n=e.data.id);var o={id:n,data:i};a.show=!1,a.$dispatch(t,o)}a.buttonEnabled=!0},function(t){s.callback.error(t),a.buttonEnabled=!0})},closeDialog:function(){this.show=!1}}}},function(t,e){t.exports=' <div class=modal v-show=show _v-45f5d98c=""> <div class=modal-dialog _v-45f5d98c=""> <div class=modal-content _v-45f5d98c=""> <div class=modal-header _v-45f5d98c=""> <button type=button class=close @click=closeDialog _v-45f5d98c="">×</button> <h4 class=modal-title _v-45f5d98c="">{{title}}</h4> </div> <div class=modal-body _v-45f5d98c=""> <form class=form-horizontal _v-45f5d98c=""> <template v-if=data.isCustom _v-45f5d98c=""> <div class=form-group _v-45f5d98c=""> <label class="col-lg-3 control-label" for=customName _v-45f5d98c="">产品名称<span class=text-danger _v-45f5d98c="">*</span>：</label> <div class=col-lg-4 _v-45f5d98c=""> <input class="form-control input-sm" id=customName type=text :disabled=!data.isAllEditable v-model=data.custom.name _v-45f5d98c=""> </div> <span class="col-lg-2 text-danger help-block" v-show=!data.isAllEditable _v-45f5d98c="">无法修改</span> </div> <div class=form-group _v-45f5d98c=""> <label class="col-lg-3 control-label" for=customQuantity _v-45f5d98c="">数量<span class=text-danger _v-45f5d98c="">*</span>：</label> <div class=col-lg-4 _v-45f5d98c=""> <input class="form-control input-sm" id=customQuantity placeholder=100本 type=text :disabled=!data.isAllEditable v-model=data.custom.quantity _v-45f5d98c=""> </div> <span class="col-lg-2 text-danger help-block" v-show=!data.isAllEditable _v-45f5d98c="">无法修改</span> </div> <div class=form-group _v-45f5d98c=""> <label class="col-lg-3 control-label" for=customSize _v-45f5d98c="">产品尺寸：</label> <div class=col-lg-6 _v-45f5d98c=""> <input class="form-control input-sm" id=customSize placeholder=长100*宽80，单位：毫米(mm) type=text :disabled=!data.isAllEditable v-model=data.custom.size _v-45f5d98c=""> </div> <span class="col-lg-2 text-danger help-block" v-show=!data.isAllEditable _v-45f5d98c="">无法修改</span> </div> <div class=form-group _v-45f5d98c=""> <label class="col-lg-3 control-label" for=customCaizhi _v-45f5d98c="">材质：</label> <div class=col-lg-6 _v-45f5d98c=""> <input class="form-control input-sm" id=customCaizhi placeholder=150g铜版纸 type=text :disabled=!data.isAllEditable v-model=data.custom.caizhi _v-45f5d98c=""> </div> <span class="col-lg-2 text-danger help-block" v-show=!data.isAllEditable _v-45f5d98c="">无法修改</span> </div> <div class=form-group _v-45f5d98c=""> <label class="col-lg-3 control-label" for=customOthers _v-45f5d98c="">其他要求：</label> <div class=col-lg-7 _v-45f5d98c=""> <textarea class="form-control input-sm" id=customOthers placeholder=需要烫金等 type=text :disabled=!data.isAllEditable v-model=data.custom.others _v-45f5d98c=""></textarea> </div> <span class="col-lg-2 text-danger help-block" v-show=!data.isAllEditable _v-45f5d98c="">无法修改</span> </div> </template> <template v-else="" _v-45f5d98c=""> <div class=form-group _v-45f5d98c=""> <label class="col-lg-3 control-label" for=productQuantity _v-45f5d98c="">数量<span class=text-danger _v-45f5d98c="">*</span>：</label> <div class=col-lg-4 _v-45f5d98c=""> <input class="form-control input-sm" id=productQuantity type=number min=1 :disabled=!data.isAllEditable v-model=data.standard.quantity number="" _v-45f5d98c=""> </div> <span class="col-lg-2 text-danger help-block" v-show=!data.isAllEditable _v-45f5d98c="">无法修改</span> </div> </template> <div class=form-group _v-45f5d98c=""> <label class="col-lg-3 control-label" for=productPrice _v-45f5d98c="">价格<span class=text-danger _v-45f5d98c="">*</span>：</label> <div class=col-lg-4 _v-45f5d98c=""> <input class="form-control input-sm" id=productPrice placeholder=单位：元 type=text :disabled=!data.isAllEditable v-model="data.price | priceFilter" _v-45f5d98c=""> </div> <span class="col-lg-2 text-danger help-block" v-show=!data.isAllEditable _v-45f5d98c="">无法修改</span> </div> <div class=form-group _v-45f5d98c=""> <label class="col-lg-3 control-label" for=productArrivalTime _v-45f5d98c="">到货时间要求：</label> <div class=col-lg-6 _v-45f5d98c=""> <input class="form-control input-sm" id=productArrivalTime type=text v-model=data.arrival_time _v-45f5d98c=""> </div> </div> </form> </div> <div class=modal-footer _v-45f5d98c=""> <button type=button class="btn btn-primary" :disabled=!buttonEnabled @click=confirmSubmit _v-45f5d98c="">确定</button> </div> </div> </div> <popup-tips :show.sync=dataForPopupTips.show :tips-type=dataForPopupTips.type :tips-title=dataForPopupTips.title :tips-content=dataForPopupTips.content _v-45f5d98c=""></popup-tips> </div> ';
},function(t,e,i){var n,a;i(156),n=i(158),a=i(159),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports["default"]),a&&(("function"==typeof t.exports?t.exports.options:t.exports).template=a)},function(t,e,i){var n=i(157);"string"==typeof n&&(n=[[t.id,n,""]]);i(42)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(41)(),e.push([t.id,".modal[_v-ea3c1708]{height:100%}.modal-dialog[_v-ea3c1708]{top:20%}","",{version:3,sources:["/./src/views/order/comp/editOrAddConsigneeDialog.vue.style"],names:[],mappings:"AAiMA,oBACA,WAAA,CACA,AAEA,2BACA,OAAA,CACA",file:"editOrAddConsigneeDialog.vue",sourcesContent:['<!-- editOrAddConsigneeDialog.vue -->\n<template>\n    <div class="modal" v-show="show">\n    \t<div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" @click="closeDialog">&times;</button>\n                    <h4 class="modal-title">{{title}}</h4>\n                </div>\n                <div class="modal-body">\n                \t<form class="form-horizontal">\n\t\t                <div class="form-group">\n\t\t                    <label class="col-lg-3 control-label" for="consigneeName">收货人姓名<span class="text-danger">*</span>：</label>\n\t\t                    <div class="col-lg-3">\n\t\t                        <input class="form-control input-sm" id="consigneeName" type="text" v-model="data.name">\n\t\t                    </div>\n\t\t                </div>\n\t\t                <div class="form-group">\n\t\t                    <label class="col-lg-3 control-label" for="consigneePhone">手机号码<span class="text-danger">*</span>：</label>\n\t\t                    <div class="col-lg-3">\n\t\t                        <input class="form-control input-sm" id="consigneePhone" type="text" v-model="data.phone">\n\t\t                    </div>\n\t\t                </div>\n\t\t                <div class="form-group">\n\t\t                    <label class="col-lg-3 control-label" for="consigneeAddress">地址<span class="text-danger">*</span>：</label>\n\t\t                    <select-region :regions="data.regions"></select-region>\n\t\t                </div>\n\t\t                <div class="form-group">\n\t\t                \t<label class="col-lg-3 control-label"></label>\n\t\t                \t<div class="col-lg-8">\n\t\t                        <input class="form-control input-sm" id="consigneeAddress" type="text" placeholder="详细地址" v-model="data.address">\n\t\t                    </div>\n\t\t                </div>\n\t\t                <div class="form-group">\n\t\t                    <label class="col-lg-3 control-label" for="consigneePost">邮编：</label>\n\t\t                    <div class="col-lg-3">\n\t\t                        <input class="form-control input-sm" id="consigneePost" type="text" v-model="data.post_code">\n\t\t                    </div>\n\t\t                </div>\n\t\t                <div class="form-group">\n\t\t                    <label class="col-lg-3 control-label" for="consigneeRemark">收货备注：</label>\n\t\t                    <div class="col-lg-8">\n\t\t                        <input class="form-control input-sm" id="consigneeRemark" type="text" v-model="data.remark">\n\t\t                    </div>\n\t\t                </div>\n\t\t            </form>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-primary" :disabled="!buttonEnabled" @click="confirmSubmit">确定</button>\n                </div>\n            </div>\n        </div>\n        <popup-tips :show.sync="dataForPopupTips.show" :tips-type="dataForPopupTips.type" :tips-title="dataForPopupTips.title" :tips-content="dataForPopupTips.content"></popup-tips>\n    </div>\n</template>\n\n<script>\nimport popupTips from \'../../../components/popupTips.vue\'\nimport selectRegion from \'../../../components/selectRegion.vue\'\nimport { callback } from \'../../../store\'\nimport { orderValidator } from \'../../../store/dataValidator.js\'\n\nexport default {\n    name: \'EditOrAddConsigneeDialogView\',\n    components: {\n        popupTips,\n        selectRegion,\n    },\n    props: [\'show\', \'data\'],\n    data() {\n        return {\n        \tbuttonEnabled: true,\n            regions: null,\n            dataForPopupTips: {\n                show: false,\n                type: \'danger\',\n                title: \'\',\n                content: \'\',\n            },\n        }\n    },\n    computed: {\n        title() {\n            if (this.data.orderConsigneeId) {\n                return \'编辑收货地址\';\n            } else {\n                return \'新增收货地址\';\n            }\n        },\n    },\n    events: {\n        \'select-region\'(region) {\n            this.data.region_id = region.region;\n            this.regions = region.all_regions;\n        }\n    },\n    methods: {\n    \tvalidateConsignee() {\n            var result = orderValidator.validateConsigneeName(this.data.name);\n            if (!result.ok) {\n                return result.errorMsg;\n            }\n            result = orderValidator.validateConsigneePhone(this.data.phone);\n            if (!result.ok) {\n                return result.errorMsg;\n            }\n            result = orderValidator.validateConsigneeAddress(this.data.region_id, this.data.address);\n            if (!result.ok) {\n                return result.errorMsg;\n            }\n            return;\n        },\n        confirmSubmit() {\n            if (this.buttonEnabled) {\n                this.buttonEnabled = false;\n                if (this.data.orderConsigneeId) {\n                    this.editConsignee();\n                } else {\n                    this.addConsignee();\n                }\n            }\n        },\n        addConsignee() {\n        \tvar result = this.validateConsignee();\n            if(result) {\n                this.dataForPopupTips.show = true;\n                this.dataForPopupTips.title = \'输入有误\';\n                this.dataForPopupTips.content = result;\n                this.buttonEnabled = true;\n                return;\n            }\n            var data = {\n                name: this.data.name,\n                phone: this.data.phone,\n                region_id: this.data.region_id,\n                address: this.data.address,\n                post_code: this.data.post_code,\n                remark: this.data.remark,\n            };\n            var url = \'/api/v2/admin/orders/add-consignee?order_id=\' + this.data.orderId;\n            this.submitToServer(\'add-consignee\', url, data, null, this.regions);\n        },\n    \teditConsignee() {\n            var result = this.validateConsignee();\n            if(result) {\n                this.dataForPopupTips.show = true;\n                this.dataForPopupTips.title = \'输入有误\';\n                this.dataForPopupTips.content = result;\n                this.buttonEnabled = true;\n                return;\n            }\n            var data = {\n                name: this.data.name,\n                phone: this.data.phone,\n                region_id: this.data.region_id,\n                address: this.data.address,\n                post_code: this.data.post_code,\n                remark: this.data.remark,\n            };\n            var url = \'/api/v2/admin/orders/update-consignee?id=\' + this.data.orderConsigneeId;\n            this.submitToServer(\'edit-consignee\', url, data, this.data.orderConsigneeId, this.regions);\n        },\n        submitToServer(type, url, data, id, regions) {\n            this.$http.put(url, data)\n            .then((response) => {\n                if(!response.data.result || response.data.result === 0) {\n                    if (!id) {\n                        id = response.data.id;\n                    }\n                    var result = {\n                        id: id,\n                        data: data,\n                    };\n                    result.data.regions = regions;\n                    this.show = false;\n                    this.$dispatch(type, result);\n                } else {\n                    callback.success(response.data);\n                }\n                this.buttonEnabled = true;\n            },(response) => {\n                callback.error(response);\n                this.buttonEnabled = true;\n            });\n        },\n    \tcloseDialog() {\n            this.show = false;\n        },\n    }\n}\n</script>\n\n<style scoped>\n.modal {\n    height: 100%;\n}\n\n.modal-dialog {\n    top: 20%;\n}\n\n</style>'],sourceRoot:"webpack://"}])},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(82),o=n(a),s=i(60),r=n(s),d=i(48),l=i(87);e["default"]={name:"EditOrAddConsigneeDialogView",components:{popupTips:o["default"],selectRegion:r["default"]},props:["show","data"],data:function(){return{buttonEnabled:!0,regions:null,dataForPopupTips:{show:!1,type:"danger",title:"",content:""}}},computed:{title:function(){return this.data.orderConsigneeId?"编辑收货地址":"新增收货地址"}},events:{"select-region":function(t){this.data.region_id=t.region,this.regions=t.all_regions}},methods:{validateConsignee:function(){var t=l.orderValidator.validateConsigneeName(this.data.name);return t.ok?(t=l.orderValidator.validateConsigneePhone(this.data.phone),t.ok?(t=l.orderValidator.validateConsigneeAddress(this.data.region_id,this.data.address),t.ok?void 0:t.errorMsg):t.errorMsg):t.errorMsg},confirmSubmit:function(){this.buttonEnabled&&(this.buttonEnabled=!1,this.data.orderConsigneeId?this.editConsignee():this.addConsignee())},addConsignee:function(){var t=this.validateConsignee();if(t)return this.dataForPopupTips.show=!0,this.dataForPopupTips.title="输入有误",this.dataForPopupTips.content=t,void(this.buttonEnabled=!0);var e={name:this.data.name,phone:this.data.phone,region_id:this.data.region_id,address:this.data.address,post_code:this.data.post_code,remark:this.data.remark},i="/api/v2/admin/orders/add-consignee?order_id="+this.data.orderId;this.submitToServer("add-consignee",i,e,null,this.regions)},editConsignee:function(){var t=this.validateConsignee();if(t)return this.dataForPopupTips.show=!0,this.dataForPopupTips.title="输入有误",this.dataForPopupTips.content=t,void(this.buttonEnabled=!0);var e={name:this.data.name,phone:this.data.phone,region_id:this.data.region_id,address:this.data.address,post_code:this.data.post_code,remark:this.data.remark},i="/api/v2/admin/orders/update-consignee?id="+this.data.orderConsigneeId;this.submitToServer("edit-consignee",i,e,this.data.orderConsigneeId,this.regions)},submitToServer:function(t,e,i,n,a){var o=this;this.$http.put(e,i).then(function(e){if(e.data.result&&0!==e.data.result)d.callback.success(e.data);else{n||(n=e.data.id);var s={id:n,data:i};s.data.regions=a,o.show=!1,o.$dispatch(t,s)}o.buttonEnabled=!0},function(t){d.callback.error(t),o.buttonEnabled=!0})},closeDialog:function(){this.show=!1}}}},function(t,e){t.exports=' <div class=modal v-show=show _v-ea3c1708=""> <div class=modal-dialog _v-ea3c1708=""> <div class=modal-content _v-ea3c1708=""> <div class=modal-header _v-ea3c1708=""> <button type=button class=close @click=closeDialog _v-ea3c1708="">×</button> <h4 class=modal-title _v-ea3c1708="">{{title}}</h4> </div> <div class=modal-body _v-ea3c1708=""> <form class=form-horizontal _v-ea3c1708=""> <div class=form-group _v-ea3c1708=""> <label class="col-lg-3 control-label" for=consigneeName _v-ea3c1708="">收货人姓名<span class=text-danger _v-ea3c1708="">*</span>：</label> <div class=col-lg-3 _v-ea3c1708=""> <input class="form-control input-sm" id=consigneeName type=text v-model=data.name _v-ea3c1708=""> </div> </div> <div class=form-group _v-ea3c1708=""> <label class="col-lg-3 control-label" for=consigneePhone _v-ea3c1708="">手机号码<span class=text-danger _v-ea3c1708="">*</span>：</label> <div class=col-lg-3 _v-ea3c1708=""> <input class="form-control input-sm" id=consigneePhone type=text v-model=data.phone _v-ea3c1708=""> </div> </div> <div class=form-group _v-ea3c1708=""> <label class="col-lg-3 control-label" for=consigneeAddress _v-ea3c1708="">地址<span class=text-danger _v-ea3c1708="">*</span>：</label> <select-region :regions=data.regions _v-ea3c1708=""></select-region> </div> <div class=form-group _v-ea3c1708=""> <label class="col-lg-3 control-label" _v-ea3c1708=""></label> <div class=col-lg-8 _v-ea3c1708=""> <input class="form-control input-sm" id=consigneeAddress type=text placeholder=详细地址 v-model=data.address _v-ea3c1708=""> </div> </div> <div class=form-group _v-ea3c1708=""> <label class="col-lg-3 control-label" for=consigneePost _v-ea3c1708="">邮编：</label> <div class=col-lg-3 _v-ea3c1708=""> <input class="form-control input-sm" id=consigneePost type=text v-model=data.post_code _v-ea3c1708=""> </div> </div> <div class=form-group _v-ea3c1708=""> <label class="col-lg-3 control-label" for=consigneeRemark _v-ea3c1708="">收货备注：</label> <div class=col-lg-8 _v-ea3c1708=""> <input class="form-control input-sm" id=consigneeRemark type=text v-model=data.remark _v-ea3c1708=""> </div> </div> </form> </div> <div class=modal-footer _v-ea3c1708=""> <button type=button class="btn btn-primary" :disabled=!buttonEnabled @click=confirmSubmit _v-ea3c1708="">确定</button> </div> </div> </div> <popup-tips :show.sync=dataForPopupTips.show :tips-type=dataForPopupTips.type :tips-title=dataForPopupTips.title :tips-content=dataForPopupTips.content _v-ea3c1708=""></popup-tips> </div> '},function(t,e){t.exports=' <div class=container-fluid _v-834d0e1e=""> <ul class=breadcrumb _v-834d0e1e=""> <li _v-834d0e1e="">订单系统</li> <li _v-834d0e1e="">订单管理</li> <li _v-834d0e1e="">编辑订单：<a class=btn-link v-link="{path:\'/order/detail/\'+orderId}" v-if=orderId _v-834d0e1e="">{{orderId}}</a></li> </ul> <form class="form-inline pull-right" style="margin-top: 16px" v-if="orderId &amp;&amp; permissionList.assignManager" _v-834d0e1e=""> <label _v-834d0e1e="">客户经理/客服：</label> <select class="form-control input-sm" style=width:100px v-model=manager.id number="" @change=changeManager _v-834d0e1e=""> <option v-for="manager of managerList" :value=manager.id _v-834d0e1e="">{{manager.display_name}}</option> </select> </form> <h3 _v-834d0e1e="">编辑订单</h3> <p class=clearfix _v-834d0e1e=""></p> <div class="panel panel-default" _v-834d0e1e=""> <div class=panel-heading _v-834d0e1e="">商品清单</div> <div class=panel-body _v-834d0e1e=""> <table class="table table-bordered table-hover product-table" _v-834d0e1e=""> <thead _v-834d0e1e=""> <tr _v-834d0e1e=""> <th style=width:6% _v-834d0e1e="">ID</th> <th style=width:15% _v-834d0e1e="">产品名称</th> <th style=width:25% _v-834d0e1e="">参数</th> <th style=width:10% _v-834d0e1e="">数量</th> <th style=width:10% _v-834d0e1e="">价格(元)</th> <th style=width:22% _v-834d0e1e="">到货时间要求</th> <th style=width:12% _v-834d0e1e="">操作</th> </tr> </thead> <tbody _v-834d0e1e=""> <tr v-for="item of orderItems" _v-834d0e1e=""> <td _v-834d0e1e="">{{item.id}}</td> <template v-if=item.is_custom _v-834d0e1e=""> <td _v-834d0e1e="">{{item.detail.name}}</td> <td _v-834d0e1e=""> <a class=btn-link @click=showProductDetailDialog(item) _v-834d0e1e=""> {{item.detail.size}}{{(item.detail.size &amp;&amp; (item.detail.caizhi || item.detail.others)) ? \'_\' : \'\'}}{{item.detail.caizhi}}{{(item.detail.caizhi &amp;&amp; item.detail.others) ? \'_\' : \'\'}}{{item.detail.others}} </a> </td> <td _v-834d0e1e="">{{item.detail.quantity}}</td> </template> <template v-else="" _v-834d0e1e=""> <td _v-834d0e1e=""> <a class=btn-link :href="\'http://www.soyyin.com/product?id=\'+item.product_id+\'#\'+item.brief" target=_blank _v-834d0e1e="">{{item.title}}</a> </td> <td _v-834d0e1e="">{{item.brief}}</td> <td _v-834d0e1e="">{{item.quantity}}</td> </template> <td _v-834d0e1e="">{{item.price === 0 ? \'暂无\' : \'\'}}{{(item.price === 0 ? \'\' : item.price ) | realPrice}}</td> <td _v-834d0e1e="">{{item.arrival_time}}</td> <td _v-834d0e1e=""> <a class=btn-link @click=editProduct(item) _v-834d0e1e="">编辑</a> <a class="btn-link show-right" v-if="((!isPayed) &amp;&amp; item.produce_status === \'NOT_PRODUCE\')" @click=showDeleteProductDialog(item) _v-834d0e1e="">删除</a> </td> </tr> </tbody> </table> <a class="btn btn-info btn-sm" v-if="orderId &amp;&amp; !isPayed" @click=addProduct _v-834d0e1e="">添加商品</a> </div> </div> <div class="panel panel-default" _v-834d0e1e=""> <div class=panel-heading _v-834d0e1e="">收货人信息</div> <div class=panel-body _v-834d0e1e=""> <table class="table table-bordered table-hover consignee-table" _v-834d0e1e=""> <thead _v-834d0e1e=""> <tr _v-834d0e1e=""> <th style=width:10% _v-834d0e1e="">姓名</th> <th style=width:12% _v-834d0e1e="">手机号</th> <th style=width:28% _v-834d0e1e="">地址</th> <th style=width:8% _v-834d0e1e="">邮编</th> <th style=width:30% _v-834d0e1e="">收货备注</th> <th style=width:12% _v-834d0e1e="">操作</th> </tr> </thead> <tbody _v-834d0e1e=""> <tr v-for="item of consignees" _v-834d0e1e=""> <td _v-834d0e1e="">{{item.name}}</td> <td _v-834d0e1e="">{{item.phone}}</td> <td _v-834d0e1e=""> <span v-for="region of item.regions" _v-834d0e1e="">{{region.name}}</span> {{item.address}} </td> <td _v-834d0e1e="">{{item.post_code}}</td> <td _v-834d0e1e="">{{item.remark}}</td> <td _v-834d0e1e=""> <a class=btn-link @click=editConsignee(item) _v-834d0e1e="">编辑</a> <a class="btn-link show-right" v-if="item.logistics.length === 0" @click=showDeleteConsigneeDialog(item) _v-834d0e1e="">删除</a> </td> </tr> </tbody> </table> <a class="btn btn-info btn-sm" v-if=orderId @click=addConsignee _v-834d0e1e="">增加收货地址</a> </div> </div> <div class=row _v-834d0e1e=""> <div class=col-lg-7 _v-834d0e1e=""> <div class="panel panel-default" _v-834d0e1e=""> <div class=panel-heading _v-834d0e1e="">付款方式</div> <div class=panel-body _v-834d0e1e=""> <form class=form-horizontal _v-834d0e1e=""> <div class=radio _v-834d0e1e=""> <label _v-834d0e1e=""> <input type=radio id=payment1 :disabled="orderBasic.status !== \'SUBMITTED\'" v-model=paymentData.payment value=ONLINE _v-834d0e1e=""> 在线支付 </label> </div> <div class="radio form-inline" _v-834d0e1e=""> <label _v-834d0e1e=""> <input type=radio id=payment2 :disabled="orderBasic.status !== \'SUBMITTED\'" v-model=paymentData.payment value=CASH_ON_DELIVERY _v-834d0e1e=""> 货到付款 </label> <input class="form-control input-sm" style=width:300px;margin-left:10px type=text placeholder=付款时间及金额说明(选填) v-model=paymentData.remark _v-834d0e1e=""> </div> </form> </div> </div> </div> <div class=col-lg-5 _v-834d0e1e=""> <div class="panel panel-default" _v-834d0e1e=""> <div class=panel-heading _v-834d0e1e="">订单日期</div> <div class=panel-body _v-834d0e1e=""> <div class=form-group _v-834d0e1e=""> <label class=control-label for=orderDate _v-834d0e1e="">请选择日期<span class=text-danger _v-834d0e1e="">*</span></label> <input class="form-control input-sm" id=orderDate style=width:200px readonly=true v-model="orderDate | datePickerFilter" _v-834d0e1e=""> </div> </div> </div> </div> </div> <div class="panel panel-default" _v-834d0e1e=""> <div class=panel-heading _v-834d0e1e="">客户信息</div> <div class=panel-body _v-834d0e1e=""> <form class=form-horizontal _v-834d0e1e=""> <div class=col-xs-2 _v-834d0e1e=""> <label class=control-label for=customerName _v-834d0e1e="">客户名称<span class=text-danger _v-834d0e1e="">*</span></label> <input class="form-control input-sm" id=customerName type=text v-model=orderBasic.customer.name _v-834d0e1e=""> </div> <div class=col-xs-2 _v-834d0e1e=""> <label class=control-label for=customerPhone _v-834d0e1e="">联系电话</label> <input class="form-control input-sm" id=customerPhone type=text v-model=orderBasic.customer.phone _v-834d0e1e=""> </div> <div class=col-xs-2 _v-834d0e1e=""> <label class=control-label for=customerQQ _v-834d0e1e="">QQ</label> <input class="form-control input-sm" id=customerQQ type=text v-model=orderBasic.customer.qq _v-834d0e1e=""> </div> <div class=col-xs-2 _v-834d0e1e=""> <label class=control-label for=customerCompany _v-834d0e1e="">公司</label> <input class="form-control input-sm" id=customerCompany type=text v-model=orderBasic.customer.company _v-834d0e1e=""> </div> </form> </div> </div> <edit-invoice-info-component :edit-invoice-checked.sync=editInvoiceChecked :invoice-data=invoiceInfo :consignees=consigneesForInvoiceInfo _v-834d0e1e=""></edit-invoice-info-component> <div class="panel panel-default" _v-834d0e1e=""> <div class=panel-heading _v-834d0e1e="">其他信息</div> <div class=panel-body _v-834d0e1e=""> <div class="form-group col-md-8" _v-834d0e1e=""> <label class=control-label for=orderRemark _v-834d0e1e="">备注：</label> <textarea class=form-control style=height:100px id=orderRemark v-model=orderBasic.remark _v-834d0e1e=""></textarea> </div> </div> </div> <div _v-834d0e1e=""> <a class="btn btn-info btn-lg pull-right" v-if=orderId @click=editOrder _v-834d0e1e="">确认修改</a> </div> <edit-or-add-product-dialog :show.sync=dataForEditOrAddProductDialog.show :data=dataForEditOrAddProductDialog.data _v-834d0e1e=""></edit-or-add-product-dialog> <product-detail-dialog :show.sync=dataForProductDetailDialog.show :detail=dataForProductDetailDialog.detail _v-834d0e1e=""></product-detail-dialog> <edit-or-add-consignee-dialog :show.sync=dataForEditOrAddConsigneeDialog.show :data=dataForEditOrAddConsigneeDialog.data _v-834d0e1e=""></edit-or-add-consignee-dialog> <popup-tips :show.sync=dataForPopupTips.show :tips-type=dataForPopupTips.type :tips-title=dataForPopupTips.title :tips-content=dataForPopupTips.content _v-834d0e1e=""></popup-tips> <popup-dialog :show-dialog.sync=dataForPopupDialog.show :dialog-title=dataForPopupDialog.title :dialog-content=dataForPopupDialog.content _v-834d0e1e=""></popup-dialog> </div> '}]);
//# sourceMappingURL=5.js.map?eedac9026f9c1fe791be