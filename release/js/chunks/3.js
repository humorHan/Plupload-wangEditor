webpackJsonp([3],[,,,,,function(e,t,n){var o;(function(e,i,a){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.2.1
	 */
(function(){"use strict";function s(e){return"function"==typeof e||"object"==typeof e&&null!==e}function r(e){return"function"==typeof e}function l(e){W=e}function c(e){ee=e}function d(){return function(){e.nextTick(m)}}function p(){return function(){G(m)}}function u(){var e=0,t=new oe(m),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function v(){var e=new MessageChannel;return e.port1.onmessage=m,function(){e.port2.postMessage(0)}}function h(){return function(){setTimeout(m,1)}}function m(){for(var e=0;e<X;e+=2){var t=se[e],n=se[e+1];t(n),se[e]=void 0,se[e+1]=void 0}X=0}function g(){try{var e=n(8);return G=e.runOnLoop||e.runOnContext,p()}catch(t){return h()}}function f(e,t){var n=this,o=new this.constructor(y);void 0===o[ce]&&q(o);var i=n._state;if(i){var a=arguments[i-1];ee(function(){R(i,o,a,n._result)})}else M(n,o,e,t);return o}function b(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(y);return C(n,e),n}function y(){}function _(){return new TypeError("You cannot resolve a promise with itself")}function w(){return new TypeError("A promises callback cannot return that same promise.")}function x(e){try{return e.then}catch(t){return ve.error=t,ve}}function A(e,t,n,o){try{e.call(t,n,o)}catch(i){return i}}function P(e,t,n){ee(function(e){var o=!1,i=A(n,t,function(n){o||(o=!0,t!==n?C(e,n):T(e,n))},function(t){o||(o=!0,z(e,t))},"Settle: "+(e._label||" unknown promise"));!o&&i&&(o=!0,z(e,i))},e)}function k(e,t){t._state===pe?T(e,t._result):t._state===ue?z(e,t._result):M(t,void 0,function(t){C(e,t)},function(t){z(e,t)})}function D(e,t,n){t.constructor===e.constructor&&n===re&&constructor.resolve===le?k(e,t):n===ve?z(e,ve.error):void 0===n?T(e,t):r(n)?P(e,t,n):T(e,t)}function C(e,t){e===t?z(e,_()):s(t)?D(e,t,x(t)):T(e,t)}function I(e){e._onerror&&e._onerror(e._result),F(e)}function T(e,t){e._state===de&&(e._result=t,e._state=pe,0!==e._subscribers.length&&ee(F,e))}function z(e,t){e._state===de&&(e._state=ue,e._result=t,ee(I,e))}function M(e,t,n,o){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+pe]=n,i[a+ue]=o,0===a&&e._state&&ee(F,e)}function F(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var o,i,a=e._result,s=0;s<t.length;s+=3)o=t[s],i=t[s+n],o?R(n,o,i,a):i(a);e._subscribers.length=0}}function E(){this.error=null}function S(e,t){try{return e(t)}catch(n){return he.error=n,he}}function R(e,t,n,o){var i,a,s,l,c=r(n);if(c){if(i=S(n,o),i===he?(l=!0,a=i.error,i=null):s=!0,t===i)return void z(t,w())}else i=o,s=!0;t._state!==de||(c&&s?C(t,i):l?z(t,a):e===pe?T(t,i):e===ue&&z(t,i))}function N(e,t){try{t(function(t){C(e,t)},function(t){z(e,t)})}catch(n){z(e,n)}}function V(){return me++}function q(e){e[ce]=me++,e._state=void 0,e._result=void 0,e._subscribers=[]}function O(e){return new _e(this,e).promise}function B(e){var t=this;return new t(K(e)?function(n,o){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(n,o)}:function(e,t){t(new TypeError("You must pass an array to race."))})}function Z(e){var t=this,n=new t(y);return z(n,e),n}function $(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function L(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function j(e){this[ce]=V(),this._result=this._state=void 0,this._subscribers=[],y!==e&&("function"!=typeof e&&$(),this instanceof j?N(this,e):L())}function Q(e,t){this._instanceConstructor=e,this.promise=new e(y),this.promise[ce]||q(this.promise),K(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&T(this.promise,this._result))):z(this.promise,H())}function H(){return new Error("Array Methods must be provided an Array")}function U(){var e;if("undefined"!=typeof i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;n&&"[object Promise]"===Object.prototype.toString.call(n.resolve())&&!n.cast||(e.Promise=ye)}var Y;Y=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var G,W,J,K=Y,X=0,ee=function(e,t){se[X]=e,se[X+1]=t,X+=2,2===X&&(W?W(m):J())},te="undefined"!=typeof window?window:void 0,ne=te||{},oe=ne.MutationObserver||ne.WebKitMutationObserver,ie="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),ae="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,se=new Array(1e3);J=ie?d():oe?u():ae?v():void 0===te?g():h();var re=f,le=b,ce=Math.random().toString(36).substring(16),de=void 0,pe=1,ue=2,ve=new E,he=new E,me=0,ge=O,fe=B,be=Z,ye=j;j.all=ge,j.race=fe,j.resolve=le,j.reject=be,j._setScheduler=l,j._setAsap=c,j._asap=ee,j.prototype={constructor:j,then:re,"catch":function(e){return this.then(null,e)}};var _e=Q;Q.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===de&&n<e;n++)this._eachEntry(t[n],n)},Q.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,o=n.resolve;if(o===le){var i=x(e);if(i===re&&e._state!==de)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===ye){var a=new n(y);D(a,e,i),this._willSettleAt(a,t)}else this._willSettleAt(new n(function(t){t(e)}),t)}else this._willSettleAt(o(e),t)},Q.prototype._settledAt=function(e,t,n){var o=this.promise;o._state===de&&(this._remaining--,e===ue?z(o,n):this._result[t]=n),0===this._remaining&&T(o,this._result)},Q.prototype._willSettleAt=function(e,t){var n=this;M(e,void 0,function(e){n._settledAt(pe,t,e)},function(e){n._settledAt(ue,t,e)})};var we=U,xe={Promise:ye,polyfill:we};n(9).amd?(o=function(){return xe}.call(t,n,t,a),!(void 0!==o&&(a.exports=o))):"undefined"!=typeof a&&a.exports?a.exports=xe:"undefined"!=typeof this&&(this.ES6Promise=xe),we()}).call(this)}).call(t,n(6),function(){return this}(),n(7)(e))},,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var o,i;n(55),o=n(57),i=n(88),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options:e.exports).template=i)},function(e,t,n){var o=n(56);"string"==typeof o&&(o=[[e.id,o,""]]);n(42)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(41)(),t.push([e.id,".product-table[_v-aa5a69ba]{table-layout:fixed}.product-table td[_v-aa5a69ba],.product-table th[_v-aa5a69ba]{text-align:center;vertical-align:middle}.product-table td .btn-link[_v-aa5a69ba]{text-decoration:none;cursor:pointer}.product-table td .btn-link[_v-aa5a69ba]:hover{text-decoration:underline}","",{version:3,sources:["/./src/views/order/create.vue.style"],names:[],mappings:"AAghBA,4BACA,kBAAA,CACA,AAEA,8DACA,kBAAA,AACA,qBAAA,CACA,AAEA,yCACA,qBAAA,AACA,cAAA,CACA,AAEA,+CACA,yBAAA,CACA",file:"create.vue",sourcesContent:['<!-- orderCreate.vue -->\n<template>\n    <div class="container-fluid">\n        <ul class="breadcrumb">\n            <li>订单系统</li>\n            <li>订单管理</li>\n            <li>创建订单</li>\n        </ul>\n        <form class="form-inline pull-right" style="margin-top: 16px;" v-if="permissionList.assignManager">\n            <label>客户经理/客服：</label>\n            <select class="form-control input-sm" style="width:100px;" v-model="managerId" number>\n                <option value="0">请选择成员</option>\n                <option v-for="manager of managerList" :value="manager.id">{{manager.display_name}}</option>\n            </select>\n        </form>\n        <h3>创建订单</h3>\n        <p class="clearfix"></p>\n        <div class="panel panel-default">\n            <div class="panel-heading">非标品</div>\n            <div class="panel-body">\n                <table class="table table-striped">\n                    <thead>\n                        <tr>\n                            <th style="width:15%;">产品名称<span class="text-danger">*</span></th>\n                            <th style="width:10%;">数量<span class="text-danger">*</span></th>\n                            <th style="width:18%;">产品尺寸</th>\n                            <th style="width:18%;">材质</th>\n                            <th style="width:15%;">其他要求</th>\n                            <th style="width:10%;">价格(元)<span class="text-danger">*</span></th>\n                            <th style="width:14%;">到货时间要求</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td><input class="form-control input-sm" type="text" name="name" v-model="newProduct.name"></td>\n                            <td><input class="form-control input-sm" type="text" name="quantity" v-model="newProduct.quantity" placeholder="100本"></td>\n                            <td><input class="form-control input-sm" type="text" name="size" v-model="newProduct.size" placeholder="长100*宽80，单位：毫米(mm)"></td>\n                            <td><input class="form-control input-sm" type="text" name="caizhi" v-model="newProduct.caizhi" placeholder="150g铜版纸"></td>\n                            <td><input class="form-control input-sm" type="text" name="others" v-model="newProduct.others" placeholder="需要烫金等"></td>\n                            <td><input class="form-control input-sm" type="text" name="price" v-model="newProduct.price | priceFilter"></td>\n                            <td><input class="form-control input-sm" type="text" name="arrival_time" v-model="newProduct.arrival_time"></td>\n                        </tr>\n                    </tbody>\n                </table>\n                <div>\n                    <a class="pull-right btn btn-info btn-sm" @click="addProduct">添加商品</a>\n                </div>\n            </div>\n        </div>\n        <table class="table table-bordered table-hover product-table" v-if="products.length>0">\n            <thead>\n                <tr>\n                    <th style="width:6%;">ID</th>\n                    <th style="width:15%;">产品名称</th>\n                    <th style="width:25%;">参数</th>\n                    <th style="width:10%;">数量</th>\n                    <th style="width:10%;">价格(元)</th>\n                    <th style="width:22%;">到货时间要求</th>\n                    <th style="width:12%;">操作</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for="product of products">\n                    <td>{{$index + 1}}</td>\n                    <td>{{product.name}}</td>\n                    <td>\n                        <a class="btn-link" @click="showProductDetailDialog(product)">\n                            {{product.size}}{{(product.size && (product.caizhi || product.others)) ? \'_\' : \'\'}}{{product.caizhi}}{{(product.caizhi && product.others) ? \'_\' : \'\'}}{{product.others}}\n                        </a>\n                    </td>\n                    <td>{{product.quantity}}</td>\n                    <td>{{product.price | realPrice}}</td>\n                    <td>{{product.arrival_time}}</td>\n                    <td><a class="btn-link" style="color:#e74c3c;" @click="deleteProduct(product)">删除</a></td>\n                </tr>\n            </tbody>\n        </table>\n        <div class="row">\n            <div class="col-lg-7">\n                <div class="panel panel-default">\n                    <div class="panel-heading">付款方式</div>\n                    <div class="panel-body">\n                        <form class="form-inline">\n                            <label class="radio">\n                                <input type="radio" name="payment" id="payment" value="CASH_ON_DELIVERY" checked>\n                                货到付款\n                            </label>\n                            <input class="form-control input-sm" style="width:300px; margin-left:10px;" type="text" name="" placeholder="付款时间及金额说明(选填)" v-model="paymentRemark">\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <div class="col-lg-5">\n                <div class="panel panel-default">\n                    <div class="panel-heading">订单日期</div>\n                    <div class="panel-body">\n                        <form class="form-inline">\n                            <label class="control-label" for="orderDate">请选择日期</label>\n                            <input class="form-control input-sm" id="orderDate" style="width:200px; margin-left:10px;" readOnly="true" v-model="orderDate | datePickerFilter">\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="panel panel-default">\n            <div class="panel-heading">客户信息</div>\n            <div class="panel-body">\n                <form class="form-horizontal">\n                    <div class="col-xs-2">\n                        <label class="control-label" for="customerName">客户名称<span class="text-danger">*</span></label>\n                        <input class="form-control input-sm" id="customerName" type="text" v-model="customer.name">\n                    </div>\n                    <div class="col-xs-2">\n                        <label class="control-label" for="customerPhone">联系电话</label>\n                        <input class="form-control input-sm" id="customerPhone" type="text" v-model="customer.phone">\n                    </div>\n                    <div class="col-xs-2">\n                        <label class="control-label" for="customerQQ">QQ</label>\n                        <input class="form-control input-sm" id="customerQQ" type="text" v-model="customer.qq">\n                    </div>\n                    <div class="col-xs-2">\n                        <label class="control-label" for="customerCompany">公司</label>\n                        <input class="form-control input-sm" id="customerCompany" type="text" v-model="customer.company">\n                    </div>\n                </form>\n            </div>\n        </div>\n        <div class="panel panel-default">\n            <div class="panel-heading">收货人信息</div>\n            <div class="panel-body">\n                <template v-for="item of consignees">\n                    <edit-consignee-item :item="item" :index="$index" :length="consignees.length"></edit-consignee-item>\n                </template>\n                <a class="btn btn-info" v-on:click="addConsignee">增加收货地址</a>\n            </div>\n        </div>\n        <edit-invoice-info-component :edit-invoice-checked.sync="editInvoiceChecked" :invoice-data="invoiceInfo" :consignees="consignees"></edit-invoice-info-component>\n        <div>\n            <a class="btn btn-info btn-lg pull-right" @click="createOrder">提交订单</a>\n        </div>\n        <product-detail-dialog :show.sync="dataForProductDetailDialog.show" :detail="dataForProductDetailDialog.detail"></product-detail-dialog>\n        <popup-tips :show.sync="dataForPopupTips.show" :tips-type="dataForPopupTips.type" :tips-title="dataForPopupTips.title" :tips-content="dataForPopupTips.content"></popup-tips>\n        <popup-dialog :show-dialog.sync="dataForPopupDialog.show" :dialog-title="dataForPopupDialog.title" :dialog-content="dataForPopupDialog.content"></popup-dialog>\n    </div>\n</template>\n\n<script>\nimport editConsigneeItem from \'./comp/editConsigneeItem.vue\'\nimport editInvoiceInfoComponent from \'./comp/editInvoiceInfoComponent.vue\'\nimport popupDialog from \'../../components/popupDialog.vue\'\nimport productDetailDialog from \'./comp/productDetailDialog.vue\'\nimport popupTips from \'../../components/popupTips.vue\'\nimport { callback } from \'../../store/index.js\'\nimport { orderValidator } from \'../../store/dataValidator.js\'\nimport { permissionValidator } from \'../../store/rolePermission.js\'\nimport $ from \'jquery\'\n\nconst DELETE_PRODUCT = "DELETE_PRODUCT";\nconst DELETE_CONSIGNEEITEM = "DELETE_CONSIGNEEITEM";\n\nexport default {\n    name: \'OrderCreateView\',\n    components: {\n        editConsigneeItem,\n        editInvoiceInfoComponent,\n        productDetailDialog,\n        popupTips,\n        popupDialog,\n    },\n    route: {\n        data({to}) {\n            var copyFromOrderId = to.params.id;\n            if (copyFromOrderId) {\n                this.getOrderDetial(copyFromOrderId);\n            }\n        }\n    },\n    ready() {\n        if (this.permissionList.assignManager) {\n            this.getManager();\n        }\n        $("#orderDate").datetimepicker({\n            format: "yyyy-mm-dd",\n            language: "zh-CN",\n            todayHighlight: true,\n            autoclose: true,\n            minView: 2,\n            endDate: new Date(),\n        });\n    },\n    data() {\n        return {\n            paymentRemark: \'\',\n            newProduct: {\n                name: \'\',\n                quantity: \'\',\n                size: \'\',\n                caizhi: \'\',\n                others: \'\',\n                price: \'\',\n                arrival_time: \'\',\n            },\n            products: [],\n            customer: {\n                name: \'\',\n                phone: \'\',\n                qq: \'\',\n                company: \'\',\n            },\n            consignees: [{\n                name: \'\',\n                phone: \'\',\n                region_id: 0,\n                address: \'\',\n                post_code: \'\',\n                remark: \'\'\n            }],\n            editInvoiceChecked: false,\n            invoiceInfo: {\n                amount: \'\',\n                content: \'\',\n                title: \'\',\n                zengzhishui: undefined,\n                remark: \'\',\n                consignee_name: \'\',\n                consignee_phone: \'\',\n                address: \'\',\n            },\n            permissionList: {\n                assignManager: permissionValidator.orderSystem.order.assignManager(),\n            },\n            managerId: 0,\n            managerList: [],\n            orderDate: 0,\n            dataForProductDetailDialog: {\n                show: false,\n                detail: {\n                    name: \'\',\n                    quantity: \'\',\n                    size: \'\',\n                    caizhi: \'\',\n                    others:\'\',\n                }\n            },\n            dataForPopupTips: {\n                show: false,\n                type: \'danger\',\n                title: \'\',\n                content: \'\',\n            },\n            dataForPopupDialog: {\n                show: false,\n                title: \'删除确认\',\n                content: \'\',\n            },\n        }\n    },\n    events: {\n        \'delete-consignee\'(item) {\n            this.dataForPopupDialog.show = true;\n            this.dataForPopupDialog.content = "确定删除此收货人？";\n            this.dataForPopupDialog.dialogId = DELETE_CONSIGNEEITEM;\n            this.dataForPopupDialog.passingData = item;\n        },\n        \'click-positive-button\'() {\n            if (this.dataForPopupDialog.dialogId === DELETE_PRODUCT) {\n                this.products.$remove(this.dataForPopupDialog.passingData);\n            } else if (this.dataForPopupDialog.dialogId === DELETE_CONSIGNEEITEM) {\n                this.consignees.$remove(this.dataForPopupDialog.passingData);\n            }\n        },\n        \'edit-consignee-region\'(result) {\n            result.target.region_id = result.data.regionId;\n            result.target.fullRegionName = \'\';\n            if (result.data.regionId !== 0) {\n                for (let i = 0; i < result.data.allRegions.length; i++) {\n                    result.target.fullRegionName += result.data.allRegions[i].name;\n                }\n            }\n        },\n    },\n    methods: {\n        getOrderDetial(id) {\n            var url = \'/api/v2/admin/orders/detail-v2?id=\' + id\n            this.$http.get(url)\n            .then((response) => {\n                if(!response.data.result || response.data.result === 0) {\n                    var customerToCopy = response.data.basic.customer;\n                    this.customer.name = customerToCopy.name;\n                    this.customer.phone = customerToCopy.phone;\n                    this.customer.qq = customerToCopy.qq;\n                    this.customer.company = customerToCopy.company;\n\n                    var consigneesToCopy = response.data.consignees;\n                    this.consignees = [];\n                    for (let i = 0; i < consigneesToCopy.length; i++) {\n                        let regions = [];\n                        for (let j = 0; j < consigneesToCopy[i].regions.length; j++) {\n                            regions.push(consigneesToCopy[i].regions[j].id);\n                        }\n                        this.consignees.push({\n                            name: consigneesToCopy[i].name,\n                            phone: consigneesToCopy[i].phone,\n                            region_id: consigneesToCopy[i].region_id,\n                            regions: regions,\n                            address: consigneesToCopy[i].address,\n                            post_code: consigneesToCopy[i].post_code,\n                            remark: consigneesToCopy[i].remark,\n                        });\n                    }\n\n                    if (response.data.invoice) {\n                        this.editInvoiceChecked = true;\n                        this.invoiceInfo = response.data.invoice;\n                    }\n                } else {\n                    callback.success(response.data);\n                }\n            },(response) => {\n                callback.error(response);\n            })\n        },\n        getManager() {\n            var url = \'/api/v2/admin/permissions/manager-list\';\n            this.$http.get(url)\n            .then((response) => {\n                if(!response.data.result || response.data.result === 0){\n                    this.managerList = response.data.data;\n                } else {\n                    callback.success(response.data);\n                }\n            },(response) => {\n                callback.error(response);\n            })\n        },\n        addConsignee() {\n            var consignee = {\n                name: \'\',\n                phone: \'\',\n                region_id: 0,\n                address: \'\',\n                post_code: \'\',\n                remark: \'\'\n            };\n            this.consignees.push(consignee);\n        },\n        dataHandle(product) {\n            return {\n                detail: {\n                    name: product.name,\n                    quantity: product.quantity,\n                    size: product.size,\n                    caizhi: product.caizhi,\n                    others: product.others,\n                },\n                price: product.price,\n                arrival_time: product.arrival_time\n            }\n        },\n        validateProduct() {\n            var result = orderValidator.validateProductName(this.newProduct.name);\n            if (!result.ok) {\n                return result.errorMsg;\n            }\n            result = orderValidator.validateProductQuantity(this.newProduct.quantity);\n            if (!result.ok) {\n                return result.errorMsg;\n            }\n            result = orderValidator.validateProductPrice(this.newProduct.price);\n            if (!result.ok) {\n                return result.errorMsg;\n            }\n            return;\n        },\n        addProduct() {\n            var result = this.validateProduct();\n            if(result) {\n                this.dataForPopupTips.show = true;\n                this.dataForPopupTips.title = \'输入有误\';\n                this.dataForPopupTips.content = result;\n                return;\n            }\n            var item = {\n                name: this.newProduct.name,\n                quantity: this.newProduct.quantity,\n                size: this.newProduct.size,\n                caizhi: this.newProduct.caizhi,\n                others: this.newProduct.others,\n                arrival_time: this.newProduct.arrival_time,\n                price: this.newProduct.price,\n            }\n            this.products.push(item);\n            this.newProduct = {\n                name: \'\',\n                quantity: \'\',\n                size: \'\',\n                caizhi: \'\',\n                others: \'\',\n                price: \'\',\n                arrival_time: \'\',\n            }\n        },\n        deleteProduct(product) {\n            this.dataForPopupDialog.show = true;\n            this.dataForPopupDialog.content = "确定删除此条商品？";\n            this.dataForPopupDialog.dialogId = DELETE_PRODUCT;\n            this.dataForPopupDialog.passingData = product;\n        },\n        validateCustomerAndConsignees() {\n            var result = orderValidator.validateCustomerName(this.customer.name);\n            if (!result.ok) {\n                return result.errorMsg;\n            }\n            for (let i = 0; i < this.consignees.length; i++) {\n                let consigneeNow = this.consignees[i];\n                let resultPrefixString = "收货人" + (i+1) + "：";\n                result = orderValidator.validateConsigneeName(consigneeNow.name);\n                if (!result.ok) {\n                    return resultPrefixString + result.errorMsg;\n                }\n                result = orderValidator.validateConsigneePhone(consigneeNow.phone);\n                if (!result.ok) {\n                    return resultPrefixString + result.errorMsg;\n                }\n                result = orderValidator.validateConsigneeAddress(consigneeNow.region_id, consigneeNow.address);\n                if (!result.ok) {\n                    return resultPrefixString + result.errorMsg;\n                }\n            }\n            return;\n        },\n        validateInvoiceInfo() {\n            if (this.editInvoiceChecked) {\n                var result = orderValidator.validateInvoiceAmount(this.invoiceInfo.amount);\n                if (!result.ok) {\n                    return result.errorMsg;\n                }\n                var infoName = ["开票内容", "开票抬头", "发票收货人", "发票收货人联系方式", "发票收货人收货地址"];\n                var infoData = [this.invoiceInfo.content, this.invoiceInfo.title, this.invoiceInfo.consignee_name, this.invoiceInfo.consignee_phone, this.invoiceInfo.address];\n                for (let i = 0; i < infoName.length; i++) {\n                    result = orderValidator.validateInvoiceItem(infoName[i], infoData[i]);\n                    if (!result.ok) {\n                        return result.errorMsg;\n                    }\n                }\n                if (this.invoiceInfo.zengzhishui) {\n                    infoName = ["发票信息中纳税人识别号", "发票信息中注册地址", "发票信息中电话", "发票信息中开户行", "发票信息中账号"];\n                    infoData = [this.invoiceInfo.zengzhishui.identifier, this.invoiceInfo.zengzhishui.address, this.invoiceInfo.zengzhishui.phone, this.invoiceInfo.zengzhishui.account, this.invoiceInfo.zengzhishui.bank];\n                    for (let i = 0; i < infoName.length; i++) {\n                        result = orderValidator.validateInvoiceItem(infoName[i], infoData[i]);\n                        if (!result.ok) {\n                            return result.errorMsg;\n                        }\n                    }\n                }\n            }\n            return;\n        },\n        createOrder() {\n            if (this.products.length === 0) {\n                this.dataForPopupTips.show = true;\n                this.dataForPopupTips.title = \'输入有误\';\n                this.dataForPopupTips.content = \'请添加商品\';\n                return;\n            }\n            var result = this.validateCustomerAndConsignees();\n            if (result) {\n                this.dataForPopupTips.show = true;\n                this.dataForPopupTips.title = \'输入有误\';\n                this.dataForPopupTips.content = result;\n                return;\n            }\n            result = this.validateInvoiceInfo();\n            if (result) {\n                this.dataForPopupTips.show = true;\n                this.dataForPopupTips.title = \'输入有误\';\n                this.dataForPopupTips.content = result;\n                return;\n            }\n            var data = {\n                items: this.products.map(this.dataHandle),\n                payment: \'CASH_ON_DELIVERY\',\n                payment_remark: this.paymentRemark,\n                customer: this.customer,\n                consignees: this.consignees,\n            }\n            if (this.permissionList.assignManager) {\n                if (this.managerId === 0) {\n                    this.dataForPopupTips.show = true;\n                    this.dataForPopupTips.title = \'输入有误\';\n                    this.dataForPopupTips.content = \'请指定客服经理/客服\';\n                    return;\n                }\n                data.manager_id = this.managerId;\n            }\n            if (this.editInvoiceChecked) {\n                data.invoice = this.invoiceInfo;\n            }\n            if (this.orderDate) {\n                data.time = this.orderDate;\n            }\n            var url = \'/api/v2/admin/orders/create\'\n            this.$http.post(url, data)\n            .then((response) => {\n                if(!response.data.result || response.data.result === 0){\n                    this.$route.router.go({ path: \'/order/detail/\' + response.data.id })\n                } else {\n                    callback.success(response.data)\n                }\n            },(response) => {\n                callback.error(response)\n            })\n        },\n        showProductDetailDialog(item) {\n            this.dataForProductDetailDialog.show = true;\n            this.dataForProductDetailDialog.detail = {\n                name: item.name,\n                quantity: item.quantity,\n                size: item.size,\n                caizhi: item.caizhi,\n                others: item.others,\n            }\n        },\n    }\n}\n</script>\n\n<style scoped>\n.product-table {\n    table-layout: fixed;\n}\n\n.product-table th, .product-table td{\n    text-align: center;\n    vertical-align: middle;\n}\n\n.product-table td .btn-link {\n    text-decoration: none;\n    cursor: pointer;\n}\n\n.product-table td .btn-link:hover {\n    text-decoration: underline;\n}\n</style>'],sourceRoot:"webpack://"}])},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(58),a=o(i),s=n(64),r=o(s),l=n(72),c=o(l),d=n(77),p=o(d),u=n(82),v=o(u),h=n(48),m=n(87),g=n(45),f=n(4),b=o(f),y="DELETE_PRODUCT",_="DELETE_CONSIGNEEITEM";t["default"]={name:"OrderCreateView",components:{editConsigneeItem:a["default"],editInvoiceInfoComponent:r["default"],productDetailDialog:p["default"],popupTips:v["default"],popupDialog:c["default"]},route:{data:function(e){var t=e.to,n=t.params.id;n&&this.getOrderDetial(n)}},ready:function(){this.permissionList.assignManager&&this.getManager(),(0,b["default"])("#orderDate").datetimepicker({format:"yyyy-mm-dd",language:"zh-CN",todayHighlight:!0,autoclose:!0,minView:2,endDate:new Date})},data:function(){return{paymentRemark:"",newProduct:{name:"",quantity:"",size:"",caizhi:"",others:"",price:"",arrival_time:""},products:[],customer:{name:"",phone:"",qq:"",company:""},consignees:[{name:"",phone:"",region_id:0,address:"",
post_code:"",remark:""}],editInvoiceChecked:!1,invoiceInfo:{amount:"",content:"",title:"",zengzhishui:void 0,remark:"",consignee_name:"",consignee_phone:"",address:""},permissionList:{assignManager:g.permissionValidator.orderSystem.order.assignManager()},managerId:0,managerList:[],orderDate:0,dataForProductDetailDialog:{show:!1,detail:{name:"",quantity:"",size:"",caizhi:"",others:""}},dataForPopupTips:{show:!1,type:"danger",title:"",content:""},dataForPopupDialog:{show:!1,title:"删除确认",content:""}}},events:{"delete-consignee":function(e){this.dataForPopupDialog.show=!0,this.dataForPopupDialog.content="确定删除此收货人？",this.dataForPopupDialog.dialogId=_,this.dataForPopupDialog.passingData=e},"click-positive-button":function(){this.dataForPopupDialog.dialogId===y?this.products.$remove(this.dataForPopupDialog.passingData):this.dataForPopupDialog.dialogId===_&&this.consignees.$remove(this.dataForPopupDialog.passingData)},"edit-consignee-region":function(e){if(e.target.region_id=e.data.regionId,e.target.fullRegionName="",0!==e.data.regionId)for(var t=0;t<e.data.allRegions.length;t++)e.target.fullRegionName+=e.data.allRegions[t].name}},methods:{getOrderDetial:function(e){var t=this,n="/api/v2/admin/orders/detail-v2?id="+e;this.$http.get(n).then(function(e){if(e.data.result&&0!==e.data.result)h.callback.success(e.data);else{var n=e.data.basic.customer;t.customer.name=n.name,t.customer.phone=n.phone,t.customer.qq=n.qq,t.customer.company=n.company;var o=e.data.consignees;t.consignees=[];for(var i=0;i<o.length;i++){for(var a=[],s=0;s<o[i].regions.length;s++)a.push(o[i].regions[s].id);t.consignees.push({name:o[i].name,phone:o[i].phone,region_id:o[i].region_id,regions:a,address:o[i].address,post_code:o[i].post_code,remark:o[i].remark})}e.data.invoice&&(t.editInvoiceChecked=!0,t.invoiceInfo=e.data.invoice)}},function(e){h.callback.error(e)})},getManager:function(){var e=this,t="/api/v2/admin/permissions/manager-list";this.$http.get(t).then(function(t){t.data.result&&0!==t.data.result?h.callback.success(t.data):e.managerList=t.data.data},function(e){h.callback.error(e)})},addConsignee:function(){var e={name:"",phone:"",region_id:0,address:"",post_code:"",remark:""};this.consignees.push(e)},dataHandle:function(e){return{detail:{name:e.name,quantity:e.quantity,size:e.size,caizhi:e.caizhi,others:e.others},price:e.price,arrival_time:e.arrival_time}},validateProduct:function(){var e=m.orderValidator.validateProductName(this.newProduct.name);return e.ok?(e=m.orderValidator.validateProductQuantity(this.newProduct.quantity),e.ok?(e=m.orderValidator.validateProductPrice(this.newProduct.price),e.ok?void 0:e.errorMsg):e.errorMsg):e.errorMsg},addProduct:function(){var e=this.validateProduct();if(e)return this.dataForPopupTips.show=!0,this.dataForPopupTips.title="输入有误",void(this.dataForPopupTips.content=e);var t={name:this.newProduct.name,quantity:this.newProduct.quantity,size:this.newProduct.size,caizhi:this.newProduct.caizhi,others:this.newProduct.others,arrival_time:this.newProduct.arrival_time,price:this.newProduct.price};this.products.push(t),this.newProduct={name:"",quantity:"",size:"",caizhi:"",others:"",price:"",arrival_time:""}},deleteProduct:function(e){this.dataForPopupDialog.show=!0,this.dataForPopupDialog.content="确定删除此条商品？",this.dataForPopupDialog.dialogId=y,this.dataForPopupDialog.passingData=e},validateCustomerAndConsignees:function(){var e=m.orderValidator.validateCustomerName(this.customer.name);if(!e.ok)return e.errorMsg;for(var t=0;t<this.consignees.length;t++){var n=this.consignees[t],o="收货人"+(t+1)+"：";if(e=m.orderValidator.validateConsigneeName(n.name),!e.ok)return o+e.errorMsg;if(e=m.orderValidator.validateConsigneePhone(n.phone),!e.ok)return o+e.errorMsg;if(e=m.orderValidator.validateConsigneeAddress(n.region_id,n.address),!e.ok)return o+e.errorMsg}},validateInvoiceInfo:function(){if(this.editInvoiceChecked){var e=m.orderValidator.validateInvoiceAmount(this.invoiceInfo.amount);if(!e.ok)return e.errorMsg;for(var t=["开票内容","开票抬头","发票收货人","发票收货人联系方式","发票收货人收货地址"],n=[this.invoiceInfo.content,this.invoiceInfo.title,this.invoiceInfo.consignee_name,this.invoiceInfo.consignee_phone,this.invoiceInfo.address],o=0;o<t.length;o++)if(e=m.orderValidator.validateInvoiceItem(t[o],n[o]),!e.ok)return e.errorMsg;if(this.invoiceInfo.zengzhishui){t=["发票信息中纳税人识别号","发票信息中注册地址","发票信息中电话","发票信息中开户行","发票信息中账号"],n=[this.invoiceInfo.zengzhishui.identifier,this.invoiceInfo.zengzhishui.address,this.invoiceInfo.zengzhishui.phone,this.invoiceInfo.zengzhishui.account,this.invoiceInfo.zengzhishui.bank];for(var i=0;i<t.length;i++)if(e=m.orderValidator.validateInvoiceItem(t[i],n[i]),!e.ok)return e.errorMsg}}},createOrder:function(){var e=this;if(0===this.products.length)return this.dataForPopupTips.show=!0,this.dataForPopupTips.title="输入有误",void(this.dataForPopupTips.content="请添加商品");var t=this.validateCustomerAndConsignees();if(t)return this.dataForPopupTips.show=!0,this.dataForPopupTips.title="输入有误",void(this.dataForPopupTips.content=t);if(t=this.validateInvoiceInfo())return this.dataForPopupTips.show=!0,this.dataForPopupTips.title="输入有误",void(this.dataForPopupTips.content=t);var n={items:this.products.map(this.dataHandle),payment:"CASH_ON_DELIVERY",payment_remark:this.paymentRemark,customer:this.customer,consignees:this.consignees};if(this.permissionList.assignManager){if(0===this.managerId)return this.dataForPopupTips.show=!0,this.dataForPopupTips.title="输入有误",void(this.dataForPopupTips.content="请指定客服经理/客服");n.manager_id=this.managerId}this.editInvoiceChecked&&(n.invoice=this.invoiceInfo),this.orderDate&&(n.time=this.orderDate);var o="/api/v2/admin/orders/create";this.$http.post(o,n).then(function(t){t.data.result&&0!==t.data.result?h.callback.success(t.data):e.$route.router.go({path:"/order/detail/"+t.data.id})},function(e){h.callback.error(e)})},showProductDetailDialog:function(e){this.dataForProductDetailDialog.show=!0,this.dataForProductDetailDialog.detail={name:e.name,quantity:e.quantity,size:e.size,caizhi:e.caizhi,others:e.others}}}}},function(e,t,n){var o,i;o=n(59),i=n(63),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options:e.exports).template=i)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(60),a=o(i);t["default"]={name:"EditConsigneeItemView",components:{selectRegion:a["default"]},props:["item","length","index"],data:function(){return{}},events:{"select-region":function(e){var t={target:this.item,data:{regionId:e.region,allRegions:e.all_regions}};this.$dispatch("edit-consignee-region",t)}},methods:{deleteConsignee:function(e){this.$dispatch("delete-consignee",e)}}}},function(e,t,n){var o,i;o=n(61),i=n(62),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options:e.exports).template=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(48),i=n(5);t["default"]={name:"SelectRegionView",ready:function(){this.regions&&this.regions instanceof Array&&this.regions.length>0?this.setAllRegions():this.getProvinceRegions()},props:["regions"],data:function(){return{province:0,city:0,county:0,provinces:[],cities:[],counties:[]}},watch:{regions:function(e,t){this.setAllRegions()}},methods:{regionFilter:function(e){return function(t){return t.region_id===e}},changeProvince:function(e){var t=this;this.city=0,this.county=0,this.cities=[],this.counties=[],this.getCityRegions(this.province).then(function(e){t.dispatchResultRegion()})},changeCity:function(e){var t=this;this.county=0,this.counties=[],this.getCountyRegions(this.city).then(function(e){t.dispatchResultRegion()})},changeCounty:function(e){this.dispatchResultRegion()},dispatchResultRegion:function(){var e={};if(0===this.province||0===this.city)e.region=0;else if(this.counties.length>0&&0===this.county)e.region=0;else{var t=this.provinces.filter(this.regionFilter(this.province))[0],n=this.cities.filter(this.regionFilter(this.city))[0];if(0===this.counties.length)e.region=this.city,e.all_regions=[{id:this.province,name:t?t.name:""},{id:this.city,name:n?n.name:""}];else{var o=this.counties.filter(this.regionFilter(this.county))[0];e.region=this.county,e.all_regions=[{id:this.province,name:t?t.name:""},{id:this.city,name:n?n.name:""},{id:this.county,name:o?o.name:""}]}}this.$dispatch("select-region",e)},setAllRegions:function(){var e=this;this.province=0,this.city=0,this.county=0,this.provinces=[],this.cities=[],this.counties=[],i.Promise.all([this.getProvinceRegions(),this.getCityRegions(this.regions[0]),this.getCountyRegions(this.regions[1])]).then(function(t){e.province=e.regions[0]||0,e.city=e.regions[1]||0,e.county=e.regions[2]||0,e.dispatchResultRegion()})},getProvinceRegions:function(){var e=this;return new i.Promise(function(t,n){var i="/api/v2/web/locations/full-provinces";e.$http.get(i).then(function(i){i.data.provinces?(e.provinces=i.data.provinces,t()):(o.callback.success(i.data),n(i.data))},function(e){o.callback.error(e),n(e)})})},getCityRegions:function(e){var t=this;return e?new i.Promise(function(n,i){var a="/api/v2/web/locations/province-cities?province_id="+e;t.$http.get(a).then(function(e){e.data.cities?(t.cities=e.data.cities,n()):(o.callback.success(e.data),i(e.data))},function(e){o.callback.error(e),i(e)})}):new i.Promise(function(e,n){t.cities=[],e()})},getCountyRegions:function(e){var t=this;return e?new i.Promise(function(n,i){var a="/api/v2/web/locations/city-counties?city_id="+e;t.$http.get(a).then(function(e){e.data.counties?(t.counties=e.data.counties,n()):0===e.data.result?(t.counties=[],n()):(o.callback.success(e.data),i(e.data))},function(e){o.callback.error(e),i(e)})}):new i.Promise(function(e,n){t.counties=[],e()})}}}},function(e,t){e.exports=' <div> <div class=col-lg-1 style=width:110px> <select class="form-control input-sm" v-model=province number @change=changeProvince> <option value=0>选择省</option> <template v-for="option of provinces"> <option v-bind:value=option.region_id>{{option.name}}</option> </template> </select> </div> <div class=col-lg-1 style=width:110px> <select class="form-control input-sm" v-model=city number @change=changeCity> <option value=0>选择市</option> <template v-for="option of cities"> <option v-bind:value=option.region_id>{{option.name}}</option> </template> </select> </div> <div class=col-lg-1 style=width:110px> <select class="form-control input-sm" v-if="counties.length>0" v-model=county number @change=changeCounty> <option value=0>选择区</option> <template v-for="option of counties"> <option v-bind:value=option.region_id>{{option.name}}</option> </template> </select> </div> </div> '},function(e,t){e.exports=' <div class="panel panel-default"> <div class=panel-body> <a v-show="length > 1" class="pull-right btn btn-warning" @click=deleteConsignee(item)>删除</a> <h4>收货人{{index + 1}}</h4> <div class=clearfix></div> <form class=form-horizontal> <div class=form-group> <label class="col-lg-2 control-label" for="consigneeName{{index + 1}}">收货人姓名<span class=text-danger>*</span>：</label> <div class=col-lg-3> <input class="form-control input-sm" id="consigneeName{{index + 1}}" type=text v-model=item.name> </div> </div> <div class=form-group> <label class="col-lg-2 control-label" for="consigneePhone{{index + 1}}">手机号码<span class=text-danger>*</span>：</label> <div class=col-lg-3> <input class="form-control input-sm" id="consigneePhone{{index + 1}}" type=text v-model=item.phone> </div> </div> <div class=form-group> <label class="col-lg-2 control-label" for="consigneeAddress{{index + 1}}">地址<span class=text-danger>*</span>：</label> <select-region :regions="item.regions ? item.regions : []"></select-region> <div class=col-lg-4> <input class="form-control input-sm" id="consigneeAddress{{index + 1}}" type=text placeholder=详细地址 v-model=item.address> </div> </div> <div class=form-group> <label class="col-lg-2 control-label" for="consigneePost{{index + 1}}">邮编：</label> <div class=col-lg-3> <input class="form-control input-sm" id="consigneePost{{index + 1}}" type=text v-model=item.post_code> </div> </div> <div class=form-group> <label class="col-lg-2 control-label" for="consigneeRemark{{index + 1}}">收货备注：</label> <div class=col-lg-6> <input class="form-control input-sm" id="consigneeRemark{{index + 1}}" type=text v-model=item.remark> </div> </div> </form> </div> </div> '},function(e,t,n){var o,i;o=n(65),i=n(71),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options:e.exports).template=i)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(66),a=o(i);t["default"]={name:"EditInvoiceInfoComponentView",components:{invoiceInfoComponent:a["default"]},props:["editInvoiceChecked","invoiceData","consignees"]}},function(e,t,n){var o,i;n(67),o=n(69),i=n(70),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options:e.exports).template=i)},function(e,t,n){var o=n(68);"string"==typeof o&&(o=[[e.id,o,""]]);n(42)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(41)(),t.push([e.id,".use-consignee-info.btn-link{text-decoration:none;cursor:pointer}.use-consignee-info.btn-link:hover{text-decoration:underline}","",{version:3,sources:["/./src/views/order/comp/invoiceInfoComponent.vue.style"],names:[],mappings:"AA+GA,6BACA,qBAAA,AACA,cAAA,CACA,AAEA,mCACA,yBAAA,CACA",file:"invoiceInfoComponent.vue",sourcesContent:['<!-- editInvoiceInfoComponent.vue -->\n<template>\n\t<div class="row">\n\t\t<div class="col-md-6">\n            <div class="form-group">\n                <label class="control-label" for="invoiceAmount">开票金额<span class="text-danger">*</span></label>\n                <input class="form-control" style="width:30%;" id="invoiceAmount" type="text" v-model="invoiceData.amount | priceFilter">\n            </div>\n            <div class="form-group">\n                <label class="control-label" for="invoiceContent">开票内容<span class="text-danger">*</span></label>\n                <select class="form-control" style="width:30%;" id="invoiceContent" v-model="invoiceData.content">\n                    <option>制作费</option>\n                    <option>服务费</option>\n                    <option>会议服务费</option>\n                    <option>设计费</option>\n                    <option>代理费</option>\n                    <option>文化咨询费</option>\n                </select>\n            </div>\n            <div class="form-group">\n                <label class="control-label" for="invoiceType">发票类型<span class="text-danger">*</span></label>\n                <select class="form-control" style="width:30%;" id="invoiceType" v-model="invoiceData.zengzhishui | formatInvoiceType" number>\n                    <option value="1">普通发票</option>\n                    <option value="2">增值税发票</option>\n                </select>\n            </div>\n            <div class="form-group">\n                <label class="control-label" for="invoiceTitle">开票抬头<span class="text-danger">*</span></label>\n                <input class="form-control" style="width:50%;" id="invoiceTitle" type="text" v-model="invoiceData.title">\n            </div>\n            <div v-if="invoiceData.zengzhishui">\n                <div class="form-group">\n                    <label class="control-label" for="invoiceZZSIdentifier">纳税人识别号<span class="text-danger">*</span></label>\n                    <input class="form-control" style="width:50%;" id="invoiceZZSIdentifier" type="text" v-model="invoiceData.zengzhishui.identifier">\n                </div>\n                <div class="form-group">\n                    <label class="control-label" for="invoiceZZSAddress">注册地址<span class="text-danger">*</span></label>\n                    <input class="form-control" style="width:50%;" id="invoiceZZSAddress" type="text" v-model="invoiceData.zengzhishui.address">\n                </div>\n                <div class="form-group">\n                    <label class="control-label" for="invoiceZZSPhone">电话<span class="text-danger">*</span></label>\n                    <input class="form-control" style="width:50%;" id="invoiceZZSPhone" type="text" v-model="invoiceData.zengzhishui.phone">\n                </div>\n                <div class="form-group">\n                    <label class="control-label" for="invoiceZZSBank">开户行<span class="text-danger">*</span></label>\n                    <input class="form-control" style="width:50%;" id="invoiceZZSBank" type="text" v-model="invoiceData.zengzhishui.bank">\n                </div>\n                <div class="form-group">\n                    <label class="control-label" for="invoiceZZSAccount">账号<span class="text-danger">*</span></label>\n                    <input class="form-control" style="width:50%;" id="invoiceZZSAccount" type="text" v-model="invoiceData.zengzhishui.account">\n                </div>\n            </div>\n            <div class="form-group">\n                <label class="control-label" for="invoiceRemark">备注</label>\n                <input class="form-control" style="width:80%;" id="invoiceRemark" type="text" v-model="invoiceData.remark">\n            </div>\n        </div>\n        <div class="col-md-6">\n            <h4>发票寄送至：</h4>\n            <p v-for="consignee of consignees">\n                <a class="use-consignee-info btn-link" @click="useConsigneeInfo(consignee)">使用收货人{{$index + 1}}信息</a>\n            </p>\n            <div class="form-group">\n                <label class="control-label" for="invoiceConsigneeName">收货人<span class="text-danger">*</span></label>\n                <input class="form-control" style="width:30%;" id="invoiceConsigneeName" type="text" v-model="invoiceData.consignee_name">\n            </div>\n            <div class="form-group">\n                <label class="control-label" for="invoiceConsigneePhone">联系方式<span class="text-danger">*</span></label>\n                <input class="form-control" style="width:30%;" id="invoiceConsigneePhone" type="text" v-model="invoiceData.consignee_phone">\n            </div>\n            <div class="form-group">\n                <label class="control-label" for="invoiceConsigneeAddress">收货地址<span class="text-danger">*</span></label>\n                <input class="form-control" style="width:80%;" id="invoiceConsigneeAddress" type="text" v-model="invoiceData.address">\n            </div>\n        </div>\n\t</div>\n</template>\n\n<script>\nexport default {\n    name: \'InvoiceInfoComponentView\',\n    props: [\'invoiceData\', \'consignees\'],\n    filters: {\n        formatInvoiceType: {\n            read(val) {\n                return val ? 2 : 1;\n            },\n            write(val, oldVal) {\n                if (val == 1) {\n                    return undefined;\n                } else {\n                    return {};\n                }\n            },\n        }\n    },\n    methods: {\n        useConsigneeInfo(consignee) {\n            this.invoiceData.consignee_name = consignee.name;\n            this.invoiceData.consignee_phone = consignee.phone;\n            if (consignee.fullRegionName && consignee.address) {\n                this.invoiceData.address = consignee.fullRegionName + consignee.address;\n            } else {\n                this.invoiceData.address = \'\';\n            }\n        },\n    },\n}\n</script>\n\n<style scope>\n.use-consignee-info.btn-link {\n    text-decoration: none;\n    cursor: pointer;\n}\n\n.use-consignee-info.btn-link:hover {\n    text-decoration: underline;\n}\n</style>'],sourceRoot:"webpack://"}])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"InvoiceInfoComponentView",props:["invoiceData","consignees"],filters:{formatInvoiceType:{read:function(e){return e?2:1},write:function(e,t){return 1==e?void 0:{}}}},methods:{useConsigneeInfo:function(e){this.invoiceData.consignee_name=e.name,this.invoiceData.consignee_phone=e.phone,e.fullRegionName&&e.address?this.invoiceData.address=e.fullRegionName+e.address:this.invoiceData.address=""}}}},function(e,t){e.exports=' <div class=row> <div class=col-md-6> <div class=form-group> <label class=control-label for=invoiceAmount>开票金额<span class=text-danger>*</span></label> <input class=form-control style=width:30% id=invoiceAmount type=text v-model="invoiceData.amount | priceFilter"> </div> <div class=form-group> <label class=control-label for=invoiceContent>开票内容<span class=text-danger>*</span></label> <select class=form-control style=width:30% id=invoiceContent v-model=invoiceData.content> <option>制作费</option> <option>服务费</option> <option>会议服务费</option> <option>设计费</option> <option>代理费</option> <option>文化咨询费</option> </select> </div> <div class=form-group> <label class=control-label for=invoiceType>发票类型<span class=text-danger>*</span></label> <select class=form-control style=width:30% id=invoiceType v-model="invoiceData.zengzhishui | formatInvoiceType" number> <option value=1>普通发票</option> <option value=2>增值税发票</option> </select> </div> <div class=form-group> <label class=control-label for=invoiceTitle>开票抬头<span class=text-danger>*</span></label> <input class=form-control style=width:50% id=invoiceTitle type=text v-model=invoiceData.title> </div> <div v-if=invoiceData.zengzhishui> <div class=form-group> <label class=control-label for=invoiceZZSIdentifier>纳税人识别号<span class=text-danger>*</span></label> <input class=form-control style=width:50% id=invoiceZZSIdentifier type=text v-model=invoiceData.zengzhishui.identifier> </div> <div class=form-group> <label class=control-label for=invoiceZZSAddress>注册地址<span class=text-danger>*</span></label> <input class=form-control style=width:50% id=invoiceZZSAddress type=text v-model=invoiceData.zengzhishui.address> </div> <div class=form-group> <label class=control-label for=invoiceZZSPhone>电话<span class=text-danger>*</span></label> <input class=form-control style=width:50% id=invoiceZZSPhone type=text v-model=invoiceData.zengzhishui.phone> </div> <div class=form-group> <label class=control-label for=invoiceZZSBank>开户行<span class=text-danger>*</span></label> <input class=form-control style=width:50% id=invoiceZZSBank type=text v-model=invoiceData.zengzhishui.bank> </div> <div class=form-group> <label class=control-label for=invoiceZZSAccount>账号<span class=text-danger>*</span></label> <input class=form-control style=width:50% id=invoiceZZSAccount type=text v-model=invoiceData.zengzhishui.account> </div> </div> <div class=form-group> <label class=control-label for=invoiceRemark>备注</label> <input class=form-control style=width:80% id=invoiceRemark type=text v-model=invoiceData.remark> </div> </div> <div class=col-md-6> <h4>发票寄送至：</h4> <p v-for="consignee of consignees"> <a class="use-consignee-info btn-link" @click=useConsigneeInfo(consignee)>使用收货人{{$index + 1}}信息</a> </p> <div class=form-group> <label class=control-label for=invoiceConsigneeName>收货人<span class=text-danger>*</span></label> <input class=form-control style=width:30% id=invoiceConsigneeName type=text v-model=invoiceData.consignee_name> </div> <div class=form-group> <label class=control-label for=invoiceConsigneePhone>联系方式<span class=text-danger>*</span></label> <input class=form-control style=width:30% id=invoiceConsigneePhone type=text v-model=invoiceData.consignee_phone> </div> <div class=form-group> <label class=control-label for=invoiceConsigneeAddress>收货地址<span class=text-danger>*</span></label> <input class=form-control style=width:80% id=invoiceConsigneeAddress type=text v-model=invoiceData.address> </div> </div> </div> '},function(e,t){e.exports=' <div class="panel panel-default"> <div class=panel-body> <div class=checkbox> <label> <input type=checkbox v-model=editInvoiceChecked>填写发票信息 </label> </div> <invoice-info-component :invoice-data=invoiceData :consignees=consignees v-show=editInvoiceChecked> </invoice-info-component> </div> </div> '},function(e,t,n){var o,i;n(73),o=n(75),i=n(76),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options:e.exports).template=i)},function(e,t,n){var o=n(74);"string"==typeof o&&(o=[[e.id,o,""]]);n(42)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(41)(),t.push([e.id,".modal[_v-2d975ce0]{height:100%}.modal-dialog[_v-2d975ce0]{top:30%}","",{version:3,sources:["/./src/components/popupDialog.vue.style"],names:[],mappings:"AAwDA,oBACA,WAAA,CACA,AAEA,2BACA,OAAA,CACA",file:"popupDialog.vue",sourcesContent:['<!-- popupDialog.vue -->\n<template>\n    <div class="modal" v-show="showDialog">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" @click="closeDialog">&times;</button>\n                    <h4 class="modal-title">{{ dialogTitle }}</h4>\n                </div>\n                <div class="modal-body">\n                    <p>{{ dialogContent }}</p>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-default" @click="clickNegativeButton">{{ negativeButtonText }}</button>\n        \t\t\t<button type="button" class="btn btn-primary" @click="clickPositiveButton">{{ positiveButtonText }}</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    name: \'PopupDialogView\',\n    props: {\n    \tshowDialog: Boolean,\n    \tdialogTitle: String,\n    \tdialogContent: String,\n    \tnegativeButtonText: {\n    \t\ttype: String,\n    \t\tdefault: \'取消\'\n    \t},\n    \tpositiveButtonText: {\n    \t\ttype: String,\n    \t\tdefault: \'确定\'\n    \t},\n    },\n    methods: {\n    \tcloseDialog(event) {\n    \t\tthis.showDialog = false;\n    \t},\n    \tclickPositiveButton(event) {\n    \t\tthis.showDialog = false;\n    \t\tthis.$dispatch(\'click-positive-button\');\n    \t},\n    \tclickNegativeButton(event) {\n    \t\tthis.showDialog = false;\n    \t\tthis.$dispatch(\'click-negative-button\');\n    \t},\n    },\n}\n\n</script>\n\n<style scoped>\n.modal {\n\theight: 100%;\n}\n\n.modal-dialog {\n\ttop: 30%;\n}\n\n</style>'],sourceRoot:"webpack://"}])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"PopupDialogView",props:{showDialog:Boolean,dialogTitle:String,dialogContent:String,negativeButtonText:{type:String,"default":"取消"},positiveButtonText:{type:String,"default":"确定"}},methods:{closeDialog:function(e){this.showDialog=!1},clickPositiveButton:function(e){this.showDialog=!1,this.$dispatch("click-positive-button")},clickNegativeButton:function(e){this.showDialog=!1,this.$dispatch("click-negative-button")}}}},function(e,t){e.exports=' <div class=modal v-show=showDialog _v-2d975ce0=""> <div class=modal-dialog _v-2d975ce0=""> <div class=modal-content _v-2d975ce0=""> <div class=modal-header _v-2d975ce0=""> <button type=button class=close @click=closeDialog _v-2d975ce0="">×</button> <h4 class=modal-title _v-2d975ce0="">{{ dialogTitle }}</h4> </div> <div class=modal-body _v-2d975ce0=""> <p _v-2d975ce0="">{{ dialogContent }}</p> </div> <div class=modal-footer _v-2d975ce0=""> <button type=button class="btn btn-default" @click=clickNegativeButton _v-2d975ce0="">{{ negativeButtonText }}</button> <button type=button class="btn btn-primary" @click=clickPositiveButton _v-2d975ce0="">{{ positiveButtonText }}</button> </div> </div> </div> </div> '},function(e,t,n){var o,i;n(78),o=n(80),i=n(81),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options:e.exports).template=i)},function(e,t,n){var o=n(79);"string"==typeof o&&(o=[[e.id,o,""]]);n(42)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(41)(),t.push([e.id,".modal{height:100%}.modal-dialog{top:30%}","",{version:3,sources:["/./src/views/order/comp/productDetailDialog.vue.style"],names:[],mappings:"AAkDA,OACA,WAAA,CACA,AAEA,cACA,OAAA,CACA",file:"productDetailDialog.vue",sourcesContent:['<!-- productDetailDialog.vue -->\n<template>\n    <div class="modal" v-show="show">\n        <div class="modal-dialog">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <button type="button" class="close" @click="hideDialog">&times;</button>\n                    <h4 class="modal-title">非标品详情</h4>\n                </div>\n                <div class="modal-body">\n                    <div class="row">\n                        <div class="col-md-3">产品名称：</div>\n                        <div class="col-md-9">{{detail.name}}</div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md-3">数量：</div>\n                        <div class="col-md-9">{{detail.quantity}}</div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md-3">产品尺寸：</div>\n                        <div class="col-md-9">{{detail.size}}</div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md-3">材质：</div>\n                        <div class="col-md-9">{{detail.caizhi}}</div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md-3">其他要求：</div>\n                        <div class="col-md-9">{{detail.others}}</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \'ProductDetailDialogView\',\n    props: [\'show\', \'detail\'],\n    methods: {\n        hideDialog() {\n            this.show = false;\n            this.$dispatch(\'hide-product-detail-dialog\');\n        }\n    },\n}\n</script>\n\n<style>\n.modal {\n    height: 100%;\n}\n\n.modal-dialog {\n    top: 30%;\n}\n</style>'],sourceRoot:"webpack://"}])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"ProductDetailDialogView",props:["show","detail"],methods:{hideDialog:function(){this.show=!1,this.$dispatch("hide-product-detail-dialog")}}}},function(e,t){e.exports=" <div class=modal v-show=show> <div class=modal-dialog> <div class=modal-content> <div class=modal-header> <button type=button class=close @click=hideDialog>&times;</button> <h4 class=modal-title>非标品详情</h4> </div> <div class=modal-body> <div class=row> <div class=col-md-3>产品名称：</div> <div class=col-md-9>{{detail.name}}</div> </div> <div class=row> <div class=col-md-3>数量：</div> <div class=col-md-9>{{detail.quantity}}</div> </div> <div class=row> <div class=col-md-3>产品尺寸：</div> <div class=col-md-9>{{detail.size}}</div> </div> <div class=row> <div class=col-md-3>材质：</div> <div class=col-md-9>{{detail.caizhi}}</div> </div> <div class=row> <div class=col-md-3>其他要求：</div> <div class=col-md-9>{{detail.others}}</div> </div> </div> </div> </div> </div> "},function(e,t,n){var o,i;n(83),o=n(85),i=n(86),e.exports=o||{},e.exports.__esModule&&(e.exports=e.exports["default"]),i&&(("function"==typeof e.exports?e.exports.options:e.exports).template=i)},function(e,t,n){var o=n(84);"string"==typeof o&&(o=[[e.id,o,""]]);n(42)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(41)(),t.push([e.id,".popuptips-container[_v-18a77ad0]{position:fixed;left:50%;top:40%;z-index:2000}.panel[_v-18a77ad0]{position:relative;left:-50%}.fade-transition[_v-18a77ad0]{-webkit-transition:all 1s ease;transition:all 1s ease}.fade-leave[_v-18a77ad0]{opacity:0}","",{version:3,sources:["/./src/components/popupTips.vue.style"],names:[],mappings:"AAuCA,kCACA,eAAA,AACA,SAAA,AACA,QAAA,AACA,YAAA,CACA,AACA,oBACA,kBAAA,AACA,SAAA,CACA,AAEA,8BACA,+BAAA,sBAAA,CACA,AAEA,yBACA,SAAA,CACA",file:"popupTips.vue",sourcesContent:['<!-- popupTips.vue -->\n<template>\n\t<div class="popuptips-container" v-if="show" transition="fade">\n\t    <div class="panel panel-{{ tipsType }}">\n\t\t\t<div class="panel-heading">\n\t\t   \t\t<h3 class="panel-title">{{ tipsTitle }}</h3>\n\t\t\t</div>\n\t\t\t<div class="panel-body">\n\t\t    \t{{ tipsContent }}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\n\nexport default {\n    name: \'PopupTipsView\',\n    replace: false,\n    props: {\n    \tshow: Boolean,\n    \ttipsType: String,\n    \ttipsTitle: String,\n    \ttipsContent: String\n    },\n    watch: {\n        show(val, oldVal) {\n            if (val === true) {\n            \tsetTimeout(() => {\n            \t\tthis.show = false;\n            \t}, 1000);\n            }\n        },\n    },\n}\n\n</script>\n\n<style scoped>\n.popuptips-container {\n\tposition: fixed;\n\tleft: 50%;\n\ttop: 40%;\n    z-index: 2000;\n}\n.panel {\n\tposition: relative;\n    left: -50%;\n}\n\n.fade-transition {\n  transition: all 1s ease;\n}\n\n.fade-leave {\n  opacity: 0;\n}\n</style>'],
sourceRoot:"webpack://"}])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={name:"PopupTipsView",replace:!1,props:{show:Boolean,tipsType:String,tipsTitle:String,tipsContent:String},watch:{show:function(e,t){var n=this;e===!0&&setTimeout(function(){n.show=!1},1e3)}}}},function(e,t){e.exports=' <div class=popuptips-container v-if=show transition=fade _v-18a77ad0=""> <div class="panel panel-{{ tipsType }}" _v-18a77ad0=""> <div class=panel-heading _v-18a77ad0=""> <h3 class=panel-title _v-18a77ad0="">{{ tipsTitle }}</h3> </div> <div class=panel-body _v-18a77ad0=""> {{ tipsContent }} </div> </div> </div> '},function(e,t){"use strict";function n(e){var t={};return t.ok=!1,e?e.length>20?(t.errorMsg="产品名称长度不能大于20",t):(t.ok=!0,t):(t.errorMsg="产品名称不能为空",t)}function o(e){var t={};return t.ok=!1,e?e.length>12?(t.errorMsg="产品数量长度不能大于12",t):(t.ok=!0,t):(t.errorMsg="产品数量不能为空",t)}function i(e){var t={};return t.ok=!1,!e||e<0?(t.errorMsg="产品价格不能为空且必须为正数",t):(t.ok=!0,t)}function a(e){var t={};return t.ok=!1,e?e.length>20?(t.errorMsg="客户名称长度不能大于20",t):(t.ok=!0,t):(t.errorMsg="客户名称不能为空",t)}function s(e){var t={};return t.ok=!1,e?e.length>20?(t.errorMsg="收货人名称长度不能大于20",t):(t.ok=!0,t):(t.errorMsg="收货人名称不能为空",t)}function r(e){var t={};t.ok=!1;var n=/^[0-9]{11}$/;return e?n.test(e)?(t.ok=!0,t):(t.errorMsg="收货人手机格式有误",t):(t.errorMsg="收货人手机不能为空",t)}function l(e,t){var n={};return n.ok=!1,0===e?(n.errorMsg="请选择收货人所在地省市区",n):t?t.length>50?(n.errorMsg="收货人详细地址不能大于50",n):(n.ok=!0,n):(n.errorMsg="收货人详细地址不能为空",n)}function c(e){var t={};return t.ok=!1,!e||e<0?(t.errorMsg="开票金额不能为空且必须为正数",t):(t.ok=!0,t)}function d(e,t){var n={};return n.ok=!1,t?t.length>50?(n.errorMsg=e+"长度不能大于50",n):(n.ok=!0,n):(n.errorMsg=e+"不能为空",n)}function p(e,t){var n={};return n.ok=!1,void 0===e||null===e||""===e?(n.errorMsg="使用额度不能为空",n):e<=0||e>t?(n.errorMsg="使用额度必须为正数且不能超过"+t/100+"元",n):(n.ok=!0,n)}function u(e,t){var n={};return n.ok=!1,void 0===e||null===e||""===e?(n.errorMsg="补充金额不能为空",n):e<=t?(n.errorMsg="补充金额必须大于"+t/100+"元",n):(n.ok=!0,n)}function v(e){var t={};return t.ok=!1,void 0===e||null===e||""===e?(t.errorMsg="额外成本不能为空",t):e<0?(t.errorMsg="额外成本必须大于等于0",t):(t.ok=!0,t)}function h(e,t){var n={};return n.ok=!1,t?t.length>2e3?(n.errorMsg=e+"长度不能大于2000",n):(n.ok=!0,n):(n.errorMsg=e+"不能为空",n)}function m(e,t){var n={};return n.ok=!1,e?e<0?(n.errorMsg="成本必须大于0",n):(n.ok=!0,n):t?(n.ok=!0,n):(n.errorMsg="成本不能为空或者0",n)}function g(e){var t={};return t.ok=!1,void 0===e||null===e||""===e?(t.errorMsg="物流成本不能为空",t):e<0?(t.errorMsg="物流成本必须大于等于0",t):(t.ok=!0,t)}function f(e,t){var n={};return n.ok=!1,t?t.length>2e3?(n.errorMsg=e+"长度不能大于2000",n):(n.ok=!0,n):(n.errorMsg=e+"不能为空",n)}function b(e,t){var n={};return n.ok=!1,!e||e<0?(n.errorMsg="退款金额不能为空且必须为正数",n):e>t?(n.errorMsg="退款金额不能大于"+t/100+"元",n):(n.ok=!0,n)}function y(e){var t={};return t.ok=!1,e?e.length>50?(t.errorMsg="对方账号长度不能大于50",t):(t.ok=!0,t):(t.errorMsg="对方账号不能为空",t)}function _(e){var t={};return t.ok=!1,e?e.length>2e3?(t.errorMsg="退款原因长度不能大于2000",t):(t.ok=!0,t):(t.errorMsg="退款原因不能为空",t)}function w(e,t){var n={};return n.ok=!1,!e||e<0?(n.errorMsg="付款金额不能为空且必须为正数",n):e>t?(n.errorMsg="付款金额不能大于该订单剩余的待支付金额("+t/100+"元)",n):(n.ok=!0,n)}function x(e){var t={};return t.ok=!1,e?e.length>20?(t.errorMsg="供应商名称长度不能大于20",t):(t.ok=!0,t):(t.errorMsg="供应商名称不能为空",t)}function A(e){var t={};return t.ok=!1,e?e.length>20?(t.errorMsg="真实姓名长度不能大于20",t):(t.ok=!0,t):(t.errorMsg="真实姓名不能为空",t)}function P(e){var t={};return t.ok=!1,e?e.length>50?(t.errorMsg="用户名长度不能大于50",t):(t.ok=!0,t):(t.errorMsg="用户名不能为空",t)}function k(e){var t={};t.ok=!1;var n=/^[a-zA-Z0-9]*$/;return e?e.length>20?(t.errorMsg="密码长度不能超过20",t):n.test(e)?(t.ok=!0,t):(t.errorMsg="密码只能包含英文字母和数字",t):(t.errorMsg="密码不能为空",t)}Object.defineProperty(t,"__esModule",{value:!0});var D="******";t.orderValidator={validateProductName:n,validateProductQuantity:o,validateProductPrice:i,validateCustomerName:a,validateConsigneeName:s,validateConsigneePhone:r,validateConsigneeAddress:l,validateInvoiceAmount:c,validateInvoiceItem:d,validateApplyInvoiceAmount:p,validateExtraAmount:u,validateExtraCost:v,validateAfterSaleItem:h,validateProductCost:m,validateLogisticsCost:g,validateLogisticsItem:f,validateRefundAmount:b,validateRefundAccount:y,validateRefundReason:_},t.financeValidator={validatePaymentAmount:w},t.crmValidator={validateSupplierName:x,validateDisplayName:A,validateUserName:P,validatePassword:k,DEFAULT_PASSWORD:D}},function(e,t){e.exports=' <div class=container-fluid _v-aa5a69ba=""> <ul class=breadcrumb _v-aa5a69ba=""> <li _v-aa5a69ba="">订单系统</li> <li _v-aa5a69ba="">订单管理</li> <li _v-aa5a69ba="">创建订单</li> </ul> <form class="form-inline pull-right" style="margin-top: 16px" v-if=permissionList.assignManager _v-aa5a69ba=""> <label _v-aa5a69ba="">客户经理/客服：</label> <select class="form-control input-sm" style=width:100px v-model=managerId number="" _v-aa5a69ba=""> <option value=0 _v-aa5a69ba="">请选择成员</option> <option v-for="manager of managerList" :value=manager.id _v-aa5a69ba="">{{manager.display_name}}</option> </select> </form> <h3 _v-aa5a69ba="">创建订单</h3> <p class=clearfix _v-aa5a69ba=""></p> <div class="panel panel-default" _v-aa5a69ba=""> <div class=panel-heading _v-aa5a69ba="">非标品</div> <div class=panel-body _v-aa5a69ba=""> <table class="table table-striped" _v-aa5a69ba=""> <thead _v-aa5a69ba=""> <tr _v-aa5a69ba=""> <th style=width:15% _v-aa5a69ba="">产品名称<span class=text-danger _v-aa5a69ba="">*</span></th> <th style=width:10% _v-aa5a69ba="">数量<span class=text-danger _v-aa5a69ba="">*</span></th> <th style=width:18% _v-aa5a69ba="">产品尺寸</th> <th style=width:18% _v-aa5a69ba="">材质</th> <th style=width:15% _v-aa5a69ba="">其他要求</th> <th style=width:10% _v-aa5a69ba="">价格(元)<span class=text-danger _v-aa5a69ba="">*</span></th> <th style=width:14% _v-aa5a69ba="">到货时间要求</th> </tr> </thead> <tbody _v-aa5a69ba=""> <tr _v-aa5a69ba=""> <td _v-aa5a69ba=""><input class="form-control input-sm" type=text name=name v-model=newProduct.name _v-aa5a69ba=""></td> <td _v-aa5a69ba=""><input class="form-control input-sm" type=text name=quantity v-model=newProduct.quantity placeholder=100本 _v-aa5a69ba=""></td> <td _v-aa5a69ba=""><input class="form-control input-sm" type=text name=size v-model=newProduct.size placeholder=长100*宽80，单位：毫米(mm) _v-aa5a69ba=""></td> <td _v-aa5a69ba=""><input class="form-control input-sm" type=text name=caizhi v-model=newProduct.caizhi placeholder=150g铜版纸 _v-aa5a69ba=""></td> <td _v-aa5a69ba=""><input class="form-control input-sm" type=text name=others v-model=newProduct.others placeholder=需要烫金等 _v-aa5a69ba=""></td> <td _v-aa5a69ba=""><input class="form-control input-sm" type=text name=price v-model="newProduct.price | priceFilter" _v-aa5a69ba=""></td> <td _v-aa5a69ba=""><input class="form-control input-sm" type=text name=arrival_time v-model=newProduct.arrival_time _v-aa5a69ba=""></td> </tr> </tbody> </table> <div _v-aa5a69ba=""> <a class="pull-right btn btn-info btn-sm" @click=addProduct _v-aa5a69ba="">添加商品</a> </div> </div> </div> <table class="table table-bordered table-hover product-table" v-if="products.length>0" _v-aa5a69ba=""> <thead _v-aa5a69ba=""> <tr _v-aa5a69ba=""> <th style=width:6% _v-aa5a69ba="">ID</th> <th style=width:15% _v-aa5a69ba="">产品名称</th> <th style=width:25% _v-aa5a69ba="">参数</th> <th style=width:10% _v-aa5a69ba="">数量</th> <th style=width:10% _v-aa5a69ba="">价格(元)</th> <th style=width:22% _v-aa5a69ba="">到货时间要求</th> <th style=width:12% _v-aa5a69ba="">操作</th> </tr> </thead> <tbody _v-aa5a69ba=""> <tr v-for="product of products" _v-aa5a69ba=""> <td _v-aa5a69ba="">{{$index + 1}}</td> <td _v-aa5a69ba="">{{product.name}}</td> <td _v-aa5a69ba=""> <a class=btn-link @click=showProductDetailDialog(product) _v-aa5a69ba=""> {{product.size}}{{(product.size &amp;&amp; (product.caizhi || product.others)) ? \'_\' : \'\'}}{{product.caizhi}}{{(product.caizhi &amp;&amp; product.others) ? \'_\' : \'\'}}{{product.others}} </a> </td> <td _v-aa5a69ba="">{{product.quantity}}</td> <td _v-aa5a69ba="">{{product.price | realPrice}}</td> <td _v-aa5a69ba="">{{product.arrival_time}}</td> <td _v-aa5a69ba=""><a class=btn-link style=color:#e74c3c @click=deleteProduct(product) _v-aa5a69ba="">删除</a></td> </tr> </tbody> </table> <div class=row _v-aa5a69ba=""> <div class=col-lg-7 _v-aa5a69ba=""> <div class="panel panel-default" _v-aa5a69ba=""> <div class=panel-heading _v-aa5a69ba="">付款方式</div> <div class=panel-body _v-aa5a69ba=""> <form class=form-inline _v-aa5a69ba=""> <label class=radio _v-aa5a69ba=""> <input type=radio name=payment id=payment value=CASH_ON_DELIVERY checked="" _v-aa5a69ba=""> 货到付款 </label> <input class="form-control input-sm" style="width:300px; margin-left:10px" type=text name="" placeholder=付款时间及金额说明(选填) v-model=paymentRemark _v-aa5a69ba=""> </form> </div> </div> </div> <div class=col-lg-5 _v-aa5a69ba=""> <div class="panel panel-default" _v-aa5a69ba=""> <div class=panel-heading _v-aa5a69ba="">订单日期</div> <div class=panel-body _v-aa5a69ba=""> <form class=form-inline _v-aa5a69ba=""> <label class=control-label for=orderDate _v-aa5a69ba="">请选择日期</label> <input class="form-control input-sm" id=orderDate style="width:200px; margin-left:10px" readonly=true v-model="orderDate | datePickerFilter" _v-aa5a69ba=""> </form> </div> </div> </div> </div> <div class="panel panel-default" _v-aa5a69ba=""> <div class=panel-heading _v-aa5a69ba="">客户信息</div> <div class=panel-body _v-aa5a69ba=""> <form class=form-horizontal _v-aa5a69ba=""> <div class=col-xs-2 _v-aa5a69ba=""> <label class=control-label for=customerName _v-aa5a69ba="">客户名称<span class=text-danger _v-aa5a69ba="">*</span></label> <input class="form-control input-sm" id=customerName type=text v-model=customer.name _v-aa5a69ba=""> </div> <div class=col-xs-2 _v-aa5a69ba=""> <label class=control-label for=customerPhone _v-aa5a69ba="">联系电话</label> <input class="form-control input-sm" id=customerPhone type=text v-model=customer.phone _v-aa5a69ba=""> </div> <div class=col-xs-2 _v-aa5a69ba=""> <label class=control-label for=customerQQ _v-aa5a69ba="">QQ</label> <input class="form-control input-sm" id=customerQQ type=text v-model=customer.qq _v-aa5a69ba=""> </div> <div class=col-xs-2 _v-aa5a69ba=""> <label class=control-label for=customerCompany _v-aa5a69ba="">公司</label> <input class="form-control input-sm" id=customerCompany type=text v-model=customer.company _v-aa5a69ba=""> </div> </form> </div> </div> <div class="panel panel-default" _v-aa5a69ba=""> <div class=panel-heading _v-aa5a69ba="">收货人信息</div> <div class=panel-body _v-aa5a69ba=""> <template v-for="item of consignees" _v-aa5a69ba=""> <edit-consignee-item :item=item :index=$index :length=consignees.length _v-aa5a69ba=""></edit-consignee-item> </template> <a class="btn btn-info" v-on:click=addConsignee _v-aa5a69ba="">增加收货地址</a> </div> </div> <edit-invoice-info-component :edit-invoice-checked.sync=editInvoiceChecked :invoice-data=invoiceInfo :consignees=consignees _v-aa5a69ba=""></edit-invoice-info-component> <div _v-aa5a69ba=""> <a class="btn btn-info btn-lg pull-right" @click=createOrder _v-aa5a69ba="">提交订单</a> </div> <product-detail-dialog :show.sync=dataForProductDetailDialog.show :detail=dataForProductDetailDialog.detail _v-aa5a69ba=""></product-detail-dialog> <popup-tips :show.sync=dataForPopupTips.show :tips-type=dataForPopupTips.type :tips-title=dataForPopupTips.title :tips-content=dataForPopupTips.content _v-aa5a69ba=""></popup-tips> <popup-dialog :show-dialog.sync=dataForPopupDialog.show :dialog-title=dataForPopupDialog.title :dialog-content=dataForPopupDialog.content _v-aa5a69ba=""></popup-dialog> </div> '}]);
//# sourceMappingURL=3.js.map?eedac9026f9c1fe791be